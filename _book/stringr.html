<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 7 章 正则表达式 | 数据科学中的 R 语言</title>
  <meta name="description" content="一个简单的中文书示例。" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="第 7 章 正则表达式 | 数据科学中的 R 语言" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="一个简单的中文书示例。" />
  <meta name="github-repo" content="perlatex/r_for_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 7 章 正则表达式 | 数据科学中的 R 语言" />
  
  <meta name="twitter:description" content="一个简单的中文书示例。" />
  

<meta name="author" content="王敏杰" />


<meta name="date" content="2019-12-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dplyr.html"/>
<link rel="next" href="purrr.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable/js/pagedtable.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/str_view/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css\psyteachr.css" type="text/css" />
<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">数据科学中的R语言</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#section-1"><i class="fa fa-check"></i>关于课程</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#ryouwithme"><i class="fa fa-check"></i>RYouWithMe</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#section-2"><i class="fa fa-check"></i>致谢</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>作者简介</a></li>
<li class="part"><span><b>I 基础篇</b></span></li>
<li class="chapter" data-level="1" data-path="intro-ds.html"><a href="intro-ds.html"><i class="fa fa-check"></i><b>1</b> 数据科学与R语言</a><ul>
<li class="chapter" data-level="1.1" data-path="intro-ds.html"><a href="intro-ds.html#section-3"><i class="fa fa-check"></i><b>1.1</b> 什么是数据科学</a></li>
<li class="chapter" data-level="1.2" data-path="intro-ds.html"><a href="intro-ds.html#section-4"><i class="fa fa-check"></i><b>1.2</b> 数据科学流程</a></li>
<li class="chapter" data-level="1.3" data-path="intro-ds.html"><a href="intro-ds.html#r"><i class="fa fa-check"></i><b>1.3</b> 为什么选择 R</a></li>
<li class="chapter" data-level="1.4" data-path="intro-ds.html"><a href="intro-ds.html#r-vs-excel"><i class="fa fa-check"></i><b>1.4</b> R vs Excel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-R.html"><a href="intro-R.html"><i class="fa fa-check"></i><b>2</b> R语言基础</a><ul>
<li class="chapter" data-level="2.1" data-path="intro-R.html"><a href="intro-R.html#r-1"><i class="fa fa-check"></i><b>2.1</b> 安装 R</a></li>
<li class="chapter" data-level="2.2" data-path="intro-R.html"><a href="intro-R.html#rstudio"><i class="fa fa-check"></i><b>2.2</b> 安装 RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="intro-R.html"><a href="intro-R.html#section-5"><i class="fa fa-check"></i><b>2.3</b> 开始</a></li>
<li class="chapter" data-level="2.4" data-path="intro-R.html"><a href="intro-R.html#section-6"><i class="fa fa-check"></i><b>2.4</b> 对象</a></li>
<li class="chapter" data-level="2.5" data-path="intro-R.html"><a href="intro-R.html#section-7"><i class="fa fa-check"></i><b>2.5</b> 数据结构</a></li>
<li class="chapter" data-level="2.6" data-path="intro-R.html"><a href="intro-R.html#section-8"><i class="fa fa-check"></i><b>2.6</b> 函数</a></li>
<li class="chapter" data-level="2.7" data-path="intro-R.html"><a href="intro-R.html#section-9"><i class="fa fa-check"></i><b>2.7</b> 脚本</a></li>
<li class="chapter" data-level="2.8" data-path="intro-R.html"><a href="intro-R.html#section-10"><i class="fa fa-check"></i><b>2.8</b> 宏包</a></li>
<li class="chapter" data-level="2.9" data-path="intro-R.html"><a href="intro-R.html#section-11"><i class="fa fa-check"></i><b>2.9</b> 如何获取帮助</a></li>
<li class="chapter" data-level="2.10" data-path="intro-R.html"><a href="intro-R.html#r-"><i class="fa fa-check"></i><b>2.10</b> R 语言社区</a></li>
<li class="chapter" data-level="2.11" data-path="intro-R.html"><a href="intro-R.html#section-12"><i class="fa fa-check"></i><b>2.11</b> 本章代码</a></li>
<li class="chapter" data-level="2.12" data-path="intro-R.html"><a href="intro-R.html#section-13"><i class="fa fa-check"></i><b>2.12</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>3</b> 子集选取</a><ul>
<li class="chapter" data-level="3.1" data-path="subsetting.html"><a href="subsetting.html#section-14"><i class="fa fa-check"></i><b>3.1</b> 向量</a></li>
<li class="chapter" data-level="3.2" data-path="subsetting.html"><a href="subsetting.html#section-15"><i class="fa fa-check"></i><b>3.2</b> 列表</a></li>
<li class="chapter" data-level="3.3" data-path="subsetting.html"><a href="subsetting.html#section-16"><i class="fa fa-check"></i><b>3.3</b> 矩阵</a></li>
<li class="chapter" data-level="3.4" data-path="subsetting.html"><a href="subsetting.html#section-17"><i class="fa fa-check"></i><b>3.4</b> 数据框</a></li>
<li class="chapter" data-level="3.5" data-path="subsetting.html"><a href="subsetting.html#section-18"><i class="fa fa-check"></i><b>3.5</b> 增强型数据框</a></li>
<li class="chapter" data-level="3.6" data-path="subsetting.html"><a href="subsetting.html#section-19"><i class="fa fa-check"></i><b>3.6</b> 本章代码</a></li>
<li class="chapter" data-level="3.7" data-path="subsetting.html"><a href="subsetting.html#section-20"><i class="fa fa-check"></i><b>3.7</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visual.html"><a href="visual.html"><i class="fa fa-check"></i><b>4</b> 数据可视化</a><ul>
<li class="chapter" data-level="4.1" data-path="visual.html"><a href="visual.html#section-21"><i class="fa fa-check"></i><b>4.1</b> 为什么要可视化</a></li>
<li class="chapter" data-level="4.2" data-path="visual.html"><a href="visual.html#ggplot2-"><i class="fa fa-check"></i><b>4.2</b> ggplot2 的图形语法</a></li>
<li class="chapter" data-level="4.3" data-path="visual.html"><a href="visual.html#vs."><i class="fa fa-check"></i><b>4.3</b> 映射 vs.设置</a></li>
<li class="chapter" data-level="4.4" data-path="visual.html"><a href="visual.html#section-22"><i class="fa fa-check"></i><b>4.4</b> 几何对象</a></li>
<li class="chapter" data-level="4.5" data-path="visual.html"><a href="visual.html#global-vs.-local"><i class="fa fa-check"></i><b>4.5</b> Global vs. Local</a></li>
<li class="chapter" data-level="4.6" data-path="visual.html"><a href="visual.html#saving-plots"><i class="fa fa-check"></i><b>4.6</b> saving plots</a></li>
<li class="chapter" data-level="4.7" data-path="visual.html"><a href="visual.html#section-23"><i class="fa fa-check"></i><b>4.7</b> 本章代码</a></li>
<li class="chapter" data-level="4.8" data-path="visual.html"><a href="visual.html#section-24"><i class="fa fa-check"></i><b>4.8</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>5</b> 可重复性研究</a><ul>
<li class="chapter" data-level="5.1" data-path="rmarkdown.html"><a href="rmarkdown.html#communicating-with-data-via-r-markdown"><i class="fa fa-check"></i><b>5.1</b> Communicating with Data via R Markdown</a></li>
<li class="chapter" data-level="5.2" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-"><i class="fa fa-check"></i><b>5.2</b> markdown 基本语法</a></li>
<li class="chapter" data-level="5.3" data-path="rmarkdown.html"><a href="rmarkdown.html#hello-r-markdown"><i class="fa fa-check"></i><b>5.3</b> Hello R Markdown</a><ul>
<li class="chapter" data-level="5.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#section-25"><i class="fa fa-check"></i><b>5.3.1</b> 插入公式</a></li>
<li class="chapter" data-level="5.3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#section-26"><i class="fa fa-check"></i><b>5.3.2</b> 插入图片</a></li>
<li class="chapter" data-level="5.3.3" data-path="rmarkdown.html"><a href="rmarkdown.html#section-27"><i class="fa fa-check"></i><b>5.3.3</b> 表格</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="rmarkdown.html"><a href="rmarkdown.html#html_document"><i class="fa fa-check"></i><b>5.4</b> html_document</a></li>
<li class="chapter" data-level="5.5" data-path="rmarkdown.html"><a href="rmarkdown.html#pdf_document"><i class="fa fa-check"></i><b>5.5</b> pdf_document</a></li>
<li class="chapter" data-level="5.6" data-path="rmarkdown.html"><a href="rmarkdown.html#section-28"><i class="fa fa-check"></i><b>5.6</b> 本章代码</a></li>
<li class="chapter" data-level="5.7" data-path="rmarkdown.html"><a href="rmarkdown.html#section-29"><i class="fa fa-check"></i><b>5.7</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>6</b> 数据处理</a><ul>
<li class="chapter" data-level="6.1" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>6.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="6.2" data-path="dplyr.html"><a href="dplyr.html#section-30"><i class="fa fa-check"></i><b>6.2</b> <code>管道</code> %&gt;%</a></li>
<li class="chapter" data-level="6.3" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>6.3</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.4" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>6.4</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.5" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>6.5</b> <code>summarise()</code>统计</a></li>
<li class="chapter" data-level="6.6" data-path="dplyr.html"><a href="dplyr.html#group_by"><i class="fa fa-check"></i><b>6.6</b> <code>group_by()</code>分组</a></li>
<li class="chapter" data-level="6.7" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>6.7</b> <code>arrange()</code>排序</a></li>
<li class="chapter" data-level="6.8" data-path="dplyr.html"><a href="dplyr.html#left_join"><i class="fa fa-check"></i><b>6.8</b> <code>left_join</code></a></li>
<li class="chapter" data-level="6.9" data-path="dplyr.html"><a href="dplyr.html#section-31"><i class="fa fa-check"></i><b>6.9</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>7</b> 正则表达式</a><ul>
<li class="chapter" data-level="7.1" data-path="stringr.html"><a href="stringr.html#section-32"><i class="fa fa-check"></i><b>7.1</b> 什么是正则表达式</a></li>
<li class="chapter" data-level="7.2" data-path="stringr.html"><a href="stringr.html#section-33"><i class="fa fa-check"></i><b>7.2</b> 字符串基础</a><ul>
<li class="chapter" data-level="7.2.1" data-path="stringr.html"><a href="stringr.html#section-34"><i class="fa fa-check"></i><b>7.2.1</b> 字符串长度</a></li>
<li class="chapter" data-level="7.2.2" data-path="stringr.html"><a href="stringr.html#section-35"><i class="fa fa-check"></i><b>7.2.2</b> 字符串组合</a></li>
<li class="chapter" data-level="7.2.3" data-path="stringr.html"><a href="stringr.html#section-36"><i class="fa fa-check"></i><b>7.2.3</b> 字符串取子集</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="stringr.html"><a href="stringr.html#section-37"><i class="fa fa-check"></i><b>7.3</b> 使用正则表达式进行模式匹配</a><ul>
<li class="chapter" data-level="7.3.1" data-path="stringr.html"><a href="stringr.html#section-38"><i class="fa fa-check"></i><b>7.3.1</b> 基础匹配</a></li>
<li class="chapter" data-level="7.3.2" data-path="stringr.html"><a href="stringr.html#section-39"><i class="fa fa-check"></i><b>7.3.2</b> 锚点</a></li>
<li class="chapter" data-level="7.3.3" data-path="stringr.html"><a href="stringr.html#section-40"><i class="fa fa-check"></i><b>7.3.3</b> 字符类与字符选项</a></li>
<li class="chapter" data-level="7.3.4" data-path="stringr.html"><a href="stringr.html#section-41"><i class="fa fa-check"></i><b>7.3.4</b> 重复</a></li>
<li class="chapter" data-level="7.3.5" data-path="stringr.html"><a href="stringr.html#section-42"><i class="fa fa-check"></i><b>7.3.5</b> 分组与回溯引用</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="stringr.html"><a href="stringr.html#section-43"><i class="fa fa-check"></i><b>7.4</b> 解决实际问题</a><ul>
<li class="chapter" data-level="7.4.1" data-path="stringr.html"><a href="stringr.html#section-44"><i class="fa fa-check"></i><b>7.4.1</b> 确定一个字符向量是否匹配一种模式</a></li>
<li class="chapter" data-level="7.4.2" data-path="stringr.html"><a href="stringr.html#section-45"><i class="fa fa-check"></i><b>7.4.2</b> 确定匹配的位置</a></li>
<li class="chapter" data-level="7.4.3" data-path="stringr.html"><a href="stringr.html#section-46"><i class="fa fa-check"></i><b>7.4.3</b> 提取匹配的内容</a></li>
<li class="chapter" data-level="7.4.4" data-path="stringr.html"><a href="stringr.html#section-47"><i class="fa fa-check"></i><b>7.4.4</b> 替换匹配内容</a></li>
<li class="chapter" data-level="7.4.5" data-path="stringr.html"><a href="stringr.html#section-48"><i class="fa fa-check"></i><b>7.4.5</b> 拆分字符串</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="stringr.html"><a href="stringr.html#section-49"><i class="fa fa-check"></i><b>7.5</b> 进阶部分</a><ul>
<li class="chapter" data-level="7.5.1" data-path="stringr.html"><a href="stringr.html#look-ahead"><i class="fa fa-check"></i><b>7.5.1</b> look ahead</a></li>
<li class="chapter" data-level="7.5.2" data-path="stringr.html"><a href="stringr.html#look-behind"><i class="fa fa-check"></i><b>7.5.2</b> look behind</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="stringr.html"><a href="stringr.html#section-50"><i class="fa fa-check"></i><b>7.6</b> 案例分析</a><ul>
<li class="chapter" data-level="7.6.1" data-path="stringr.html"><a href="stringr.html#section-51"><i class="fa fa-check"></i><b>7.6.1</b> 案例1</a></li>
<li class="chapter" data-level="7.6.2" data-path="stringr.html"><a href="stringr.html#section-52"><i class="fa fa-check"></i><b>7.6.2</b> 案例2</a></li>
<li class="chapter" data-level="7.6.3" data-path="stringr.html"><a href="stringr.html#section-53"><i class="fa fa-check"></i><b>7.6.3</b> 案例3</a></li>
<li class="chapter" data-level="7.6.4" data-path="stringr.html"><a href="stringr.html#section-54"><i class="fa fa-check"></i><b>7.6.4</b> 案例4</a></li>
<li class="chapter" data-level="7.6.5" data-path="stringr.html"><a href="stringr.html#section-55"><i class="fa fa-check"></i><b>7.6.5</b> 案例5</a></li>
<li class="chapter" data-level="7.6.6" data-path="stringr.html"><a href="stringr.html#section-56"><i class="fa fa-check"></i><b>7.6.6</b> 案例6</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="stringr.html"><a href="stringr.html#section-57"><i class="fa fa-check"></i><b>7.7</b> 一些有趣的正则表达式的宏包</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>8</b> 函数式编程</a><ul>
<li class="chapter" data-level="8.1" data-path="purrr.html"><a href="purrr.html#section-58"><i class="fa fa-check"></i><b>8.1</b> 简单回顾</a></li>
<li class="chapter" data-level="8.2" data-path="purrr.html"><a href="purrr.html#section-59"><i class="fa fa-check"></i><b>8.2</b> 多说说列表</a></li>
<li class="chapter" data-level="8.3" data-path="purrr.html"><a href="purrr.html#vs-"><i class="fa fa-check"></i><b>8.3</b> 列表 vs 向量</a></li>
<li class="chapter" data-level="8.4" data-path="purrr.html"><a href="purrr.html#purrr-1"><i class="fa fa-check"></i><b>8.4</b> purrr</a></li>
<li class="chapter" data-level="8.5" data-path="purrr.html"><a href="purrr.html#section-60"><i class="fa fa-check"></i><b>8.5</b> 自定义函数</a></li>
<li class="chapter" data-level="8.6" data-path="purrr.html"><a href="purrr.html#section-61"><i class="fa fa-check"></i><b>8.6</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="eda.html"><a href="eda.html"><i class="fa fa-check"></i><b>9</b> 探索性数据分析</a><ul>
<li class="chapter" data-level="9.1" data-path="eda.html"><a href="eda.html#section-62"><i class="fa fa-check"></i><b>9.1</b> 探索性</a></li>
<li class="chapter" data-level="9.2" data-path="eda.html"><a href="eda.html#section-63"><i class="fa fa-check"></i><b>9.2</b> 数据集</a></li>
<li class="chapter" data-level="9.3" data-path="eda.html"><a href="eda.html#section-64"><i class="fa fa-check"></i><b>9.3</b> 导入数据</a></li>
<li class="chapter" data-level="9.4" data-path="eda.html"><a href="eda.html#section-65"><i class="fa fa-check"></i><b>9.4</b> 数据结构</a></li>
<li class="chapter" data-level="9.5" data-path="eda.html"><a href="eda.html#section-66"><i class="fa fa-check"></i><b>9.5</b> 我们想探索哪些问题？</a></li>
<li class="chapter" data-level="9.6" data-path="eda.html"><a href="eda.html#section-67"><i class="fa fa-check"></i><b>9.6</b> 每个学科颁过多少次奖</a></li>
<li class="chapter" data-level="9.7" data-path="eda.html"><a href="eda.html#section-68"><i class="fa fa-check"></i><b>9.7</b> 看看我们伟大的祖国</a></li>
<li class="chapter" data-level="9.8" data-path="eda.html"><a href="eda.html#section-69"><i class="fa fa-check"></i><b>9.8</b> 哪些大神多次获得诺贝尔奖</a></li>
<li class="chapter" data-level="9.9" data-path="eda.html"><a href="eda.html#section-70"><i class="fa fa-check"></i><b>9.9</b> 大神在得奖的时候是多大年龄？</a></li>
<li class="chapter" data-level="9.10" data-path="eda.html"><a href="eda.html#section-71"><i class="fa fa-check"></i><b>9.10</b> 性别比例</a></li>
<li class="chapter" data-level="9.11" data-path="eda.html"><a href="eda.html#section-72"><i class="fa fa-check"></i><b>9.11</b> 这些大神都是哪个年代出生的人？</a></li>
<li class="chapter" data-level="9.12" data-path="eda.html"><a href="eda.html#section-73"><i class="fa fa-check"></i><b>9.12</b> 最年轻的诺奖获得者？</a></li>
<li class="chapter" data-level="9.13" data-path="eda.html"><a href="eda.html#section-74"><i class="fa fa-check"></i><b>9.13</b> 平均年龄和获奖数量</a></li>
<li class="chapter" data-level="9.14" data-path="eda.html"><a href="eda.html#section-75"><i class="fa fa-check"></i><b>9.14</b> 出生地与工作地分布</a></li>
<li class="chapter" data-level="9.15" data-path="eda.html"><a href="eda.html#section-76"><i class="fa fa-check"></i><b>9.15</b> 迁移模式</a></li>
<li class="chapter" data-level="9.16" data-path="eda.html"><a href="eda.html#section-77"><i class="fa fa-check"></i><b>9.16</b> 地图</a></li>
<li class="chapter" data-level="9.17" data-path="eda.html"><a href="eda.html#section-78"><i class="fa fa-check"></i><b>9.17</b> 出生地和工作地不一样的占比</a></li>
<li class="chapter" data-level="9.18" data-path="eda.html"><a href="eda.html#section-79"><i class="fa fa-check"></i><b>9.18</b> 诺奖分享者</a></li>
<li class="chapter" data-level="9.19" data-path="eda.html"><a href="eda.html#section-80"><i class="fa fa-check"></i><b>9.19</b> 其它</a></li>
<li class="chapter" data-level="9.20" data-path="eda.html"><a href="eda.html#section-81"><i class="fa fa-check"></i><b>9.20</b> 延伸阅读</a></li>
</ul></li>
<li class="part"><span><b>II tidyverse篇</b></span></li>
<li class="chapter" data-level="10" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>10</b> ggplot2</a><ul>
<li class="chapter" data-level="10.1" data-path="ggplot2.html"><a href="ggplot2.html#section-82"><i class="fa fa-check"></i><b>10.1</b> 一个有趣的案例</a></li>
<li class="chapter" data-level="10.2" data-path="ggplot2.html"><a href="ggplot2.html#section-83"><i class="fa fa-check"></i><b>10.2</b> 学习目标</a></li>
<li class="chapter" data-level="10.3" data-path="ggplot2.html"><a href="ggplot2.html#section-84"><i class="fa fa-check"></i><b>10.3</b> 开始</a><ul>
<li class="chapter" data-level="10.3.1" data-path="ggplot2.html"><a href="ggplot2.html#section-85"><i class="fa fa-check"></i><b>10.3.1</b> 导入数据</a></li>
<li class="chapter" data-level="10.3.2" data-path="ggplot2.html"><a href="ggplot2.html#section-86"><i class="fa fa-check"></i><b>10.3.2</b> 检查数据</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="ggplot2.html"><a href="ggplot2.html#section-87"><i class="fa fa-check"></i><b>10.4</b> 基本绘图</a><ul>
<li class="chapter" data-level="10.4.1" data-path="ggplot2.html"><a href="ggplot2.html#section-88"><i class="fa fa-check"></i><b>10.4.1</b> 柱状图</a></li>
<li class="chapter" data-level="10.4.2" data-path="ggplot2.html"><a href="ggplot2.html#section-89"><i class="fa fa-check"></i><b>10.4.2</b> 直方图</a></li>
<li class="chapter" data-level="10.4.3" data-path="ggplot2.html"><a href="ggplot2.html#section-90"><i class="fa fa-check"></i><b>10.4.3</b> 箱线图</a></li>
<li class="chapter" data-level="10.4.4" data-path="ggplot2.html"><a href="ggplot2.html#section-91"><i class="fa fa-check"></i><b>10.4.4</b> 抖散图</a></li>
<li class="chapter" data-level="10.4.5" data-path="ggplot2.html"><a href="ggplot2.html#section-92"><i class="fa fa-check"></i><b>10.4.5</b> 山峦图</a></li>
<li class="chapter" data-level="10.4.6" data-path="ggplot2.html"><a href="ggplot2.html#section-93"><i class="fa fa-check"></i><b>10.4.6</b> 散点图</a></li>
<li class="chapter" data-level="10.4.7" data-path="ggplot2.html"><a href="ggplot2.html#section-94"><i class="fa fa-check"></i><b>10.4.7</b> 点线图</a></li>
<li class="chapter" data-level="10.4.8" data-path="ggplot2.html"><a href="ggplot2.html#section-95"><i class="fa fa-check"></i><b>10.4.8</b> 文本标注</a></li>
<li class="chapter" data-level="10.4.9" data-path="ggplot2.html"><a href="ggplot2.html#errorbar"><i class="fa fa-check"></i><b>10.4.9</b> errorbar图</a></li>
<li class="chapter" data-level="10.4.10" data-path="ggplot2.html"><a href="ggplot2.html#section-96"><i class="fa fa-check"></i><b>10.4.10</b> 椭圆图</a></li>
<li class="chapter" data-level="10.4.11" data-path="ggplot2.html"><a href="ggplot2.html#d-"><i class="fa fa-check"></i><b>10.4.11</b> 2D 密度图</a></li>
<li class="chapter" data-level="10.4.12" data-path="ggplot2.html"><a href="ggplot2.html#section-97"><i class="fa fa-check"></i><b>10.4.12</b> 马赛克图</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="ggplot2.html"><a href="ggplot2.html#section-98"><i class="fa fa-check"></i><b>10.5</b> 主题风格</a></li>
<li class="chapter" data-level="10.6" data-path="ggplot2.html"><a href="ggplot2.html#section-99"><i class="fa fa-check"></i><b>10.6</b> 定制</a><ul>
<li class="chapter" data-level="10.6.1" data-path="ggplot2.html"><a href="ggplot2.html#labels"><i class="fa fa-check"></i><b>10.6.1</b> Labels</a></li>
<li class="chapter" data-level="10.6.2" data-path="ggplot2.html"><a href="ggplot2.html#section-100"><i class="fa fa-check"></i><b>10.6.2</b> 定制颜色</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="ggplot2.html"><a href="ggplot2.html#section-101"><i class="fa fa-check"></i><b>10.7</b> 组合图片</a><ul>
<li class="chapter" data-level="10.7.1" data-path="ggplot2.html"><a href="ggplot2.html#cowplot"><i class="fa fa-check"></i><b>10.7.1</b> cowplot</a></li>
<li class="chapter" data-level="10.7.2" data-path="ggplot2.html"><a href="ggplot2.html#section-102"><i class="fa fa-check"></i><b>10.7.2</b> 保存图片</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="ggplot2.html"><a href="ggplot2.html#section-103"><i class="fa fa-check"></i><b>10.8</b> 中文字体</a></li>
<li class="chapter" data-level="10.9" data-path="ggplot2.html"><a href="ggplot2.html#section-104"><i class="fa fa-check"></i><b>10.9</b> 高亮某一组</a><ul>
<li class="chapter" data-level="10.9.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-1"><i class="fa fa-check"></i><b>10.9.1</b> ggplot2方法</a></li>
<li class="chapter" data-level="10.9.2" data-path="ggplot2.html"><a href="ggplot2.html#gghighlight"><i class="fa fa-check"></i><b>10.9.2</b> gghighlight方法</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="ggplot2.html"><a href="ggplot2.html#section-105"><i class="fa fa-check"></i><b>10.10</b> 函数图</a></li>
<li class="chapter" data-level="10.11" data-path="ggplot2.html"><a href="ggplot2.html#section-106"><i class="fa fa-check"></i><b>10.11</b> 地图</a><ul>
<li class="chapter" data-level="10.11.1" data-path="ggplot2.html"><a href="ggplot2.html#latex"><i class="fa fa-check"></i><b>10.11.1</b> latex公式</a></li>
</ul></li>
<li class="chapter" data-level="10.12" data-path="ggplot2.html"><a href="ggplot2.html#section-107"><i class="fa fa-check"></i><b>10.12</b> 参考资料</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>11</b> tidyverse中的若干技巧</a><ul>
<li class="chapter" data-level="11.1" data-path="tips.html"><a href="tips.html#from-gather-to-pivot"><i class="fa fa-check"></i><b>11.1</b> From <code>gather()</code> to <code>pivot()</code></a></li>
<li class="chapter" data-level="11.2" data-path="tips.html"><a href="tips.html#count"><i class="fa fa-check"></i><b>11.2</b> count()</a></li>
<li class="chapter" data-level="11.3" data-path="tips.html"><a href="tips.html#count-"><i class="fa fa-check"></i><b>11.3</b> 在 count() 中创建新变量</a></li>
<li class="chapter" data-level="11.4" data-path="tips.html"><a href="tips.html#add_count"><i class="fa fa-check"></i><b>11.4</b> add_count()</a></li>
<li class="chapter" data-level="11.5" data-path="tips.html"><a href="tips.html#nth-first-last"><i class="fa fa-check"></i><b>11.5</b> nth(), first(), last()</a></li>
<li class="chapter" data-level="11.6" data-path="tips.html"><a href="tips.html#section-108"><i class="fa fa-check"></i><b>11.6</b> 列变量重新排序</a></li>
<li class="chapter" data-level="11.7" data-path="tips.html"><a href="tips.html#if_else"><i class="fa fa-check"></i><b>11.7</b> if_else</a></li>
<li class="chapter" data-level="11.8" data-path="tips.html"><a href="tips.html#case_when"><i class="fa fa-check"></i><b>11.8</b> case_when</a></li>
<li class="chapter" data-level="11.9" data-path="tips.html"><a href="tips.html#section-109"><i class="fa fa-check"></i><b>11.9</b> 找出前几名</a></li>
<li class="chapter" data-level="11.10" data-path="tips.html"><a href="tips.html#drop_na"><i class="fa fa-check"></i><b>11.10</b> drop_na()</a></li>
<li class="chapter" data-level="11.11" data-path="tips.html"><a href="tips.html#replace_na"><i class="fa fa-check"></i><b>11.11</b> replace_na()</a></li>
<li class="chapter" data-level="11.12" data-path="tips.html"><a href="tips.html#coalesce"><i class="fa fa-check"></i><b>11.12</b> coalesce</a></li>
<li class="chapter" data-level="11.13" data-path="tips.html"><a href="tips.html#summarise--list-column"><i class="fa fa-check"></i><b>11.13</b> summarise() 生成 list-column</a></li>
<li class="chapter" data-level="11.14" data-path="tips.html"><a href="tips.html#count-fct_reorder-geom_col-coord_flip"><i class="fa fa-check"></i><b>11.14</b> count() + fct_reorder() + geom_col() + coord_flip()</a></li>
<li class="chapter" data-level="11.15" data-path="tips.html"><a href="tips.html#scale_xy_log10"><i class="fa fa-check"></i><b>11.15</b> scale_x/y_log10</a></li>
<li class="chapter" data-level="11.16" data-path="tips.html"><a href="tips.html#fct_lump"><i class="fa fa-check"></i><b>11.16</b> fct_lump</a></li>
<li class="chapter" data-level="11.17" data-path="tips.html"><a href="tips.html#unite"><i class="fa fa-check"></i><b>11.17</b> unite</a></li>
<li class="chapter" data-level="11.18" data-path="tips.html"><a href="tips.html#separate"><i class="fa fa-check"></i><b>11.18</b> separate()</a></li>
<li class="chapter" data-level="11.19" data-path="tips.html"><a href="tips.html#extract"><i class="fa fa-check"></i><b>11.19</b> extract()</a></li>
<li class="chapter" data-level="11.20" data-path="tips.html"><a href="tips.html#crossing"><i class="fa fa-check"></i><b>11.20</b> crossing()</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tibble.html"><a href="tibble.html"><i class="fa fa-check"></i><b>12</b> 简单数据框</a><ul>
<li class="chapter" data-level="12.1" data-path="tibble.html"><a href="tibble.html#tidyverse-"><i class="fa fa-check"></i><b>12.1</b> tidyverse 家族</a></li>
<li class="chapter" data-level="12.2" data-path="tibble.html"><a href="tibble.html#tibble-1"><i class="fa fa-check"></i><b>12.2</b> 人性化的tibble</a></li>
<li class="chapter" data-level="12.3" data-path="tibble.html"><a href="tibble.html#tibble--data.frame"><i class="fa fa-check"></i><b>12.3</b> tibble 与 data.frame</a></li>
<li class="chapter" data-level="12.4" data-path="tibble.html"><a href="tibble.html#tibble-2"><i class="fa fa-check"></i><b>12.4</b> tibble数据操作</a><ul>
<li class="chapter" data-level="12.4.1" data-path="tibble.html"><a href="tibble.html#tibble-3"><i class="fa fa-check"></i><b>12.4.1</b> 创建tibble</a></li>
<li class="chapter" data-level="12.4.2" data-path="tibble.html"><a href="tibble.html#tibble-4"><i class="fa fa-check"></i><b>12.4.2</b> 转换成tibble类型</a></li>
<li class="chapter" data-level="12.4.3" data-path="tibble.html"><a href="tibble.html#tibble-5"><i class="fa fa-check"></i><b>12.4.3</b> tibble简单操作</a></li>
<li class="chapter" data-level="12.4.4" data-path="tibble.html"><a href="tibble.html#lst"><i class="fa fa-check"></i><b>12.4.4</b> 有用的函数<code>lst</code></a></li>
<li class="chapter" data-level="12.4.5" data-path="tibble.html"><a href="tibble.html#enframe"><i class="fa fa-check"></i><b>12.4.5</b> 有用的函数<code>enframe</code></a></li>
<li class="chapter" data-level="12.4.6" data-path="tibble.html"><a href="tibble.html#deframe"><i class="fa fa-check"></i><b>12.4.6</b> 有用的函数<code>deframe</code></a></li>
<li class="chapter" data-level="12.4.7" data-path="tibble.html"><a href="tibble.html#section-110"><i class="fa fa-check"></i><b>12.4.7</b> 读取文件</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="tibble.html"><a href="tibble.html#section-111"><i class="fa fa-check"></i><b>12.5</b> 关于行名</a></li>
<li class="chapter" data-level="12.6" data-path="tibble.html"><a href="tibble.html#section-112"><i class="fa fa-check"></i><b>12.6</b> 修复列名</a></li>
<li class="chapter" data-level="12.7" data-path="tibble.html"><a href="tibble.html#nested-tibble"><i class="fa fa-check"></i><b>12.7</b> nested tibble</a></li>
<li class="chapter" data-level="12.8" data-path="tibble.html"><a href="tibble.html#section-113"><i class="fa fa-check"></i><b>12.8</b> 延伸阅读</a></li>
</ul></li>
<li class="part"><span><b>III 建模篇</b></span></li>
<li class="chapter" data-level="13" data-path="sampling.html"><a href="sampling.html"><i class="fa fa-check"></i><b>13</b> 模拟与抽样</a><ul>
<li class="chapter" data-level="13.1" data-path="sampling.html"><a href="sampling.html#section-114"><i class="fa fa-check"></i><b>13.1</b> 模拟</a><ul>
<li class="chapter" data-level="13.1.1" data-path="sampling.html"><a href="sampling.html#section-115"><i class="fa fa-check"></i><b>13.1.1</b> 生成随机数</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="sampling.html"><a href="sampling.html#section-116"><i class="fa fa-check"></i><b>13.2</b> 抽样与样本</a><ul>
<li class="chapter" data-level="13.2.1" data-path="sampling.html"><a href="sampling.html#section-117"><i class="fa fa-check"></i><b>13.2.1</b> 总体分布</a></li>
<li class="chapter" data-level="13.2.2" data-path="sampling.html"><a href="sampling.html#section-118"><i class="fa fa-check"></i><b>13.2.2</b> 样本</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="sampling.html"><a href="sampling.html#section-119"><i class="fa fa-check"></i><b>13.3</b> 扩展阅读</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tidystats.html"><a href="tidystats.html"><i class="fa fa-check"></i><b>14</b> Tidy Statistics</a><ul>
<li class="chapter" data-level="14.1" data-path="tidystats.html"><a href="tidystats.html#section-120"><i class="fa fa-check"></i><b>14.1</b> 从一个案例开始</a></li>
<li class="chapter" data-level="14.2" data-path="tidystats.html"><a href="tidystats.html#section-121"><i class="fa fa-check"></i><b>14.2</b> 单因素方差分析</a></li>
<li class="chapter" data-level="14.3" data-path="tidystats.html"><a href="tidystats.html#section-122"><i class="fa fa-check"></i><b>14.3</b> 双因素方差分析</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="infer.html"><a href="infer.html"><i class="fa fa-check"></i><b>15</b> 统计推断</a></li>
<li class="chapter" data-level="16" data-path="lm.html"><a href="lm.html"><i class="fa fa-check"></i><b>16</b> 线性回归</a><ul>
<li class="chapter" data-level="16.1" data-path="lm.html"><a href="lm.html#section-123"><i class="fa fa-check"></i><b>16.1</b> 从一个案例开始</a><ul>
<li class="chapter" data-level="16.1.1" data-path="lm.html"><a href="lm.html#section-124"><i class="fa fa-check"></i><b>16.1.1</b> 缺失值检查</a></li>
<li class="chapter" data-level="16.1.2" data-path="lm.html"><a href="lm.html#section-125"><i class="fa fa-check"></i><b>16.1.2</b> 变量简单统计</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="lm.html"><a href="lm.html#section-126"><i class="fa fa-check"></i><b>16.2</b> 线性回归模型</a></li>
<li class="chapter" data-level="16.3" data-path="lm.html"><a href="lm.html#lm-"><i class="fa fa-check"></i><b>16.3</b> 使用<code>lm()</code> 函数</a></li>
<li class="chapter" data-level="16.4" data-path="lm.html"><a href="lm.html#section-127"><i class="fa fa-check"></i><b>16.4</b> 模型的解释</a></li>
<li class="chapter" data-level="16.5" data-path="lm.html"><a href="lm.html#section-128"><i class="fa fa-check"></i><b>16.5</b> 多元线性回归</a></li>
<li class="chapter" data-level="16.6" data-path="lm.html"><a href="lm.html#section-129"><i class="fa fa-check"></i><b>16.6</b> 更多模型</a></li>
<li class="chapter" data-level="16.7" data-path="lm.html"><a href="lm.html#section-130"><i class="fa fa-check"></i><b>16.7</b> 可能遇到的情形</a><ul>
<li class="chapter" data-level="16.7.1" data-path="lm.html"><a href="lm.html#section-131"><i class="fa fa-check"></i><b>16.7.1</b> 截距项</a></li>
<li class="chapter" data-level="16.7.2" data-path="lm.html"><a href="lm.html#section-132"><i class="fa fa-check"></i><b>16.7.2</b> 只有截距</a></li>
<li class="chapter" data-level="16.7.3" data-path="lm.html"><a href="lm.html#section-133"><i class="fa fa-check"></i><b>16.7.3</b> 分类变量</a></li>
<li class="chapter" data-level="16.7.4" data-path="lm.html"><a href="lm.html#section-134"><i class="fa fa-check"></i><b>16.7.4</b> 因子变量</a></li>
<li class="chapter" data-level="16.7.5" data-path="lm.html"><a href="lm.html#section-135"><i class="fa fa-check"></i><b>16.7.5</b> 一个分类变量和一个连续变量</a></li>
<li class="chapter" data-level="16.7.6" data-path="lm.html"><a href="lm.html#section-136"><i class="fa fa-check"></i><b>16.7.6</b> 偷懒的写法</a></li>
<li class="chapter" data-level="16.7.7" data-path="lm.html"><a href="lm.html#section-137"><i class="fa fa-check"></i><b>16.7.7</b> 交互项</a></li>
<li class="chapter" data-level="16.7.8" data-path="lm.html"><a href="lm.html#predict-vs-fit"><i class="fa fa-check"></i><b>16.7.8</b> predict vs fit</a></li>
<li class="chapter" data-level="16.7.9" data-path="lm.html"><a href="lm.html#section-138"><i class="fa fa-check"></i><b>16.7.9</b> 回归和相关的关系</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="lm.html"><a href="lm.html#section-139"><i class="fa fa-check"></i><b>16.8</b> 延伸阅读</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>17</b> 广义线性模型</a></li>
<li class="chapter" data-level="18" data-path="lmm.html"><a href="lmm.html"><i class="fa fa-check"></i><b>18</b> 线性混合模型</a><ul>
<li class="chapter" data-level="18.1" data-path="lmm.html"><a href="lmm.html#section-140"><i class="fa fa-check"></i><b>18.1</b> 从一个案例开始</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="sem.html"><a href="sem.html"><i class="fa fa-check"></i><b>19</b> 结构方程模型</a></li>
<li class="chapter" data-level="20" data-path="tidybayes.html"><a href="tidybayes.html"><i class="fa fa-check"></i><b>20</b> 贝叶斯数据分析</a><ul>
<li class="chapter" data-level="20.1" data-path="tidybayes.html"><a href="tidybayes.html#bayesian-new-statistics"><i class="fa fa-check"></i><b>20.1</b> Bayesian New Statistics</a></li>
<li class="chapter" data-level="20.2" data-path="tidybayes.html"><a href="tidybayes.html#the-mechanics-of-mcmc."><i class="fa fa-check"></i><b>20.2</b> The mechanics of MCMC.</a></li>
<li class="chapter" data-level="20.3" data-path="tidybayes.html"><a href="tidybayes.html#metropolis-hastings"><i class="fa fa-check"></i><b>20.3</b> Metropolis-Hastings：</a></li>
<li class="chapter" data-level="20.4" data-path="tidybayes.html"><a href="tidybayes.html#hamiltonian-monte-carlo"><i class="fa fa-check"></i><b>20.4</b> Hamiltonian Monte Carlo：</a></li>
<li class="chapter" data-level="20.5" data-path="tidybayes.html"><a href="tidybayes.html#frequentists-vs-bayesians"><i class="fa fa-check"></i><b>20.5</b> Frequentists vs Bayesians</a></li>
</ul></li>
<li class="part"><span><b>IV 应用篇</b></span></li>
<li class="chapter" data-level="21" data-path="advR.html"><a href="advR.html"><i class="fa fa-check"></i><b>21</b> tidyverse进阶</a><ul>
<li class="chapter" data-level="21.1" data-path="advR.html"><a href="advR.html#scoped-"><i class="fa fa-check"></i><b>21.1</b> scoped 函数</a><ul>
<li class="chapter" data-level="21.1.1" data-path="advR.html"><a href="advR.html#mutate_if"><i class="fa fa-check"></i><b>21.1.1</b> mutate_if</a></li>
<li class="chapter" data-level="21.1.2" data-path="advR.html"><a href="advR.html#select_if"><i class="fa fa-check"></i><b>21.1.2</b> select_if()</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="advR.html"><a href="advR.html#summarise_if"><i class="fa fa-check"></i><b>21.2</b> summarise_if</a></li>
<li class="chapter" data-level="21.3" data-path="advR.html"><a href="advR.html#filter_if"><i class="fa fa-check"></i><b>21.3</b> filter_if()</a></li>
<li class="chapter" data-level="21.4" data-path="advR.html"><a href="advR.html#group_by-1"><i class="fa fa-check"></i><b>21.4</b> group_by</a><ul>
<li class="chapter" data-level="21.4.1" data-path="advR.html"><a href="advR.html#group_split-group_map-group_modify"><i class="fa fa-check"></i><b>21.4.1</b> group_split(), group_map(), group_modify()</a></li>
<li class="chapter" data-level="21.4.2" data-path="advR.html"><a href="advR.html#group"><i class="fa fa-check"></i><b>21.4.2</b> 其他group函数</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="advR.html"><a href="advR.html#section-141"><i class="fa fa-check"></i><b>21.5</b> 列名清理</a></li>
<li class="chapter" data-level="21.6" data-path="advR.html"><a href="advR.html#section-142"><i class="fa fa-check"></i><b>21.6</b> 缺失值检查与处理</a><ul>
<li class="chapter" data-level="21.6.1" data-path="advR.html"><a href="advR.html#purrr-dplyr-"><i class="fa fa-check"></i><b>21.6.1</b> purrr &amp; dplyr 技巧</a></li>
<li class="chapter" data-level="21.6.2" data-path="advR.html"><a href="advR.html#section-143"><i class="fa fa-check"></i><b>21.6.2</b> 缺失值替换</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="advR.html"><a href="advR.html#section-144"><i class="fa fa-check"></i><b>21.7</b> 标准化</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="rowwise.html"><a href="rowwise.html"><i class="fa fa-check"></i><b>22</b> tidyverse中行方向的操作</a><ul>
<li class="chapter" data-level="22.1" data-path="rowwise.html"><a href="rowwise.html#section-145"><i class="fa fa-check"></i><b>22.1</b> 问题</a></li>
<li class="chapter" data-level="22.2" data-path="rowwise.html"><a href="rowwise.html#rowwise-1"><i class="fa fa-check"></i><b>22.2</b> rowwise函数</a></li>
<li class="chapter" data-level="22.3" data-path="rowwise.html"><a href="rowwise.html#row-wise-summaries"><i class="fa fa-check"></i><b>22.3</b> Row-wise Summaries</a></li>
<li class="chapter" data-level="22.4" data-path="rowwise.html"><a href="rowwise.html#purrrmap"><i class="fa fa-check"></i><b>22.4</b> purrr::map方案</a></li>
<li class="chapter" data-level="22.5" data-path="rowwise.html"><a href="rowwise.html#tidy-"><i class="fa fa-check"></i><b>22.5</b> tidy 的方案</a></li>
<li class="chapter" data-level="22.6" data-path="rowwise.html"><a href="rowwise.html#slide"><i class="fa fa-check"></i><b>22.6</b> slide方案</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="dot.html"><a href="dot.html"><i class="fa fa-check"></i><b>23</b> tidyverse中的dot</a><ul>
<li class="chapter" data-level="23.1" data-path="dot.html"><a href="dot.html#section-146"><i class="fa fa-check"></i><b>23.1</b> 每一行的 <code>.</code> 各自代表什么意思呢?</a></li>
<li class="chapter" data-level="23.2" data-path="dot.html"><a href="dot.html#section-147"><i class="fa fa-check"></i><b>23.2</b> 占位符</a></li>
<li class="chapter" data-level="23.3" data-path="dot.html"><a href="dot.html#lambda"><i class="fa fa-check"></i><b>23.3</b> Lambda函数</a></li>
<li class="chapter" data-level="23.4" data-path="dot.html"><a href="dot.html#section-148"><i class="fa fa-check"></i><b>23.4</b> 正则表达式</a></li>
<li class="chapter" data-level="23.5" data-path="dot.html"><a href="dot.html#unary-funciton-"><i class="fa fa-check"></i><b>23.5</b> Unary funciton (只带一个参数的函数)</a></li>
<li class="chapter" data-level="23.6" data-path="dot.html"><a href="dot.html#more-placeholder"><i class="fa fa-check"></i><b>23.6</b> more placeholder</a></li>
<li class="chapter" data-level="23.7" data-path="dot.html"><a href="dot.html#mutatemap"><i class="fa fa-check"></i><b>23.7</b> 当mutate遇到map</a></li>
<li class="chapter" data-level="23.8" data-path="dot.html"><a href="dot.html#dot-dot-dot"><i class="fa fa-check"></i><b>23.8</b> Dot dot dot</a></li>
<li class="chapter" data-level="23.9" data-path="dot.html"><a href="dot.html#dont-confuse"><i class="fa fa-check"></i><b>23.9</b> Don’t confuse</a></li>
<li class="chapter" data-level="23.10" data-path="dot.html"><a href="dot.html#section-149"><i class="fa fa-check"></i><b>23.10</b> 小结</a></li>
<li class="chapter" data-level="23.11" data-path="dot.html"><a href="dot.html#section-150"><i class="fa fa-check"></i><b>23.11</b> 回答问题</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="rvest.html"><a href="rvest.html"><i class="fa fa-check"></i><b>24</b> 网络爬虫</a><ul>
<li class="chapter" data-level="24.1" data-path="rvest.html"><a href="rvest.html#section-151"><i class="fa fa-check"></i><b>24.1</b> 链家网</a></li>
<li class="chapter" data-level="24.2" data-path="rvest.html"><a href="rvest.html#section-152"><i class="fa fa-check"></i><b>24.2</b> 猪肉价格</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="tidymodels.html"><a href="tidymodels.html"><i class="fa fa-check"></i><b>25</b> 机器学习</a></li>
<li class="chapter" data-level="26" data-path="tidygraph.html"><a href="tidygraph.html"><i class="fa fa-check"></i><b>26</b> 社会网络分析</a></li>
<li class="chapter" data-level="27" data-path="tidytext.html"><a href="tidytext.html"><i class="fa fa-check"></i><b>27</b> 文本挖掘</a></li>
<li class="chapter" data-level="28" data-path="r4psy.html"><a href="r4psy.html"><i class="fa fa-check"></i><b>28</b> 在代表性领域的应用</a></li>
<li class="appendix"><span><b>附录</b></span></li>
<li class="chapter" data-level="A" data-path="exams.html"><a href="exams.html"><i class="fa fa-check"></i><b>A</b> 期末考试</a><ul>
<li class="chapter" data-level="A.1" data-path="exams.html"><a href="exams.html#section-153"><i class="fa fa-check"></i><b>A.1</b> 方式</a></li>
<li class="chapter" data-level="A.2" data-path="exams.html"><a href="exams.html#section-154"><i class="fa fa-check"></i><b>A.2</b> 要求</a></li>
<li class="chapter" data-level="A.3" data-path="exams.html"><a href="exams.html#section-155"><i class="fa fa-check"></i><b>A.3</b> 数据集</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">本书由 bookdown 强力驱动</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">数据科学中的 R 语言</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="stringr" class="section level1">
<h1><span class="header-section-number">第 7 章</span> 正则表达式</h1>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb158-2" title="2"><span class="kw">library</span>(stringr)</a></code></pre></div>
<div id="section-32" class="section level2">
<h2><span class="header-section-number">7.1</span> 什么是正则表达式</h2>
<p>我们在word文档或者excel中，经常使用查找和替换, 然而有些情况，word是解决不了的，比如</p>
<ul>
<li>条件搜索
<ul>
<li>统计文中，前面有 “data”, “computer” or “statistical” 的 “analysis”，这个单词的个数</li>
<li>找出文中重复的单词，比如“we love love you”</li>
</ul></li>
<li>拼写检查
<ul>
<li>电话号码（邮件，密码等）是否正确格式</li>
<li>日期书写的规范与统一</li>
</ul></li>
<li>提取信息
<ul>
<li>提取文本特定位置的数据</li>
</ul></li>
<li>文本挖掘
<ul>
<li>非结构化的提取成结构化</li>
</ul></li>
</ul>
<p>这个时候就需要用到正则表达式（Regular Expression），这一强大、便捷、高效的文本处理工具。那么，什么是正则表达式呢？简单点说，正则表达式是处理字符串的。复杂点说，正则表达式描述了一种字符串匹配的模式（pattern），通常被用来检索、替换那些符合某个模式(规则)的文本。这种固定的格式的文本，生活中常见的有电话号码、网络地址、邮件地址和日期格式等等。</p>
<p>正则表达式并不是R语言特有的，事实上，几乎所有程序语言都支持正则表达式。</p>
<p>R语言中的字符串操作，基础包里有很多函数可以使用，然而大神Hadley Wickham开发的stringr包让正则表达式简单易懂，所以今天我们介绍这个包，本章的内容与《R for data science》第10章基本一致。本章目的教大家写<strong>简单的</strong>正则表示式就行了。</p>
</div>
<div id="section-33" class="section level2">
<h2><span class="header-section-number">7.2</span> 字符串基础</h2>
<div id="section-34" class="section level3">
<h3><span class="header-section-number">7.2.1</span> 字符串长度</h3>
<p>想获取字符串的长度，可以使用<code>str_length()</code>函数</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" title="1"><span class="kw">str_length</span>(<span class="st">&quot;R for data science&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 18</code></pre>
<p>对字符串向量</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" title="1"><span class="kw">str_length</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;R for data science&quot;</span>, <span class="ot">NA</span>))</a></code></pre></div>
<pre><code>## [1]  1 18 NA</code></pre>
<p>数据框里配合dplyr函数，同样很方便</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" title="1"><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb163-2" title="2">  <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;R for data science&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb163-3" title="3">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb163-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="kw">str_length</span>(x))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["y"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"1"},{"1":"R for data science","2":"18"},{"1":"NA","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-35" class="section level3">
<h3><span class="header-section-number">7.2.2</span> 字符串组合</h3>
<p>把字符串拼接在一起</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1"><span class="kw">str_c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;xy&quot;</code></pre>
<p>把字符串拼接在一起，可以设置中间的间隔</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1"><span class="kw">str_c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x, y&quot;</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<p>是不是和你想象的不一样，那就<code>?str_c</code>，或者试试这个</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" title="1"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x, x&quot; &quot;y, y&quot; &quot;z, z&quot;</code></pre>
<p>用在数据框里</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1"><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb172-2" title="2">  <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;I&quot;</span>, <span class="st">&quot;love&quot;</span>, <span class="st">&quot;you&quot;</span>),</a>
<a class="sourceLine" id="cb172-3" title="3">  <span class="dt">y =</span> <span class="kw">c</span>(<span class="st">&quot;you&quot;</span>, <span class="st">&quot;like&quot;</span>, <span class="st">&quot;me&quot;</span>)</a>
<a class="sourceLine" id="cb172-4" title="4">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb172-5" title="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">z =</span> <span class="kw">str_c</span>(x, y, <span class="dt">sep =</span> <span class="st">&quot;|&quot;</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["y"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["z"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"I","2":"you","3":"I|you"},{"1":"love","2":"like","3":"love|like"},{"1":"you","2":"me","3":"you|me"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>使用collapse选项，是先组合，然后再转换成单个字符串，大家对比下</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;|&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x|a&quot; &quot;y|b&quot; &quot;z|c&quot;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;xa|yb|zc&quot;</code></pre>
</div>
<div id="section-36" class="section level3">
<h3><span class="header-section-number">7.2.3</span> 字符串取子集</h3>
<p>截取字符串的一部分，需要指定截取的开始位置和结束位置</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Apple&quot;</span>, <span class="st">&quot;Banana&quot;</span>, <span class="st">&quot;Pear&quot;</span>)</a>
<a class="sourceLine" id="cb177-2" title="2"><span class="kw">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] &quot;App&quot; &quot;Ban&quot; &quot;Pea&quot;</code></pre>
<p>开始位置和结束位置如果是负整数，就表示位置是从后往前数，比如下面这段代码，截取倒数第3个至倒数第1个位置上的字符串</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Apple&quot;</span>, <span class="st">&quot;Banana&quot;</span>, <span class="st">&quot;Pear&quot;</span>)</a>
<a class="sourceLine" id="cb179-2" title="2"><span class="kw">str_sub</span>(x, <span class="dv">-3</span>, <span class="dv">-1</span>)</a></code></pre></div>
<pre><code>## [1] &quot;ple&quot; &quot;ana&quot; &quot;ear&quot;</code></pre>
<p>也可以进行赋值，如果该位置上有字符，就用新的字符替换旧的字符</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" title="1"><span class="kw">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) &lt;-<span class="st"> &quot;Q&quot;</span></a>
<a class="sourceLine" id="cb181-2" title="2">x</a></code></pre></div>
<pre><code>## [1] &quot;Qpple&quot;  &quot;Qanana&quot; &quot;Qear&quot;</code></pre>
</div>
</div>
<div id="section-37" class="section level2">
<h2><span class="header-section-number">7.3</span> 使用正则表达式进行模式匹配</h2>
<p>正则表示式慢慢会呈现了</p>
<div id="section-38" class="section level3">
<h3><span class="header-section-number">7.3.1</span> 基础匹配</h3>
<p><code>str_view()</code> 是查看string是否匹配pattern，如果匹配，就高亮显示</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb183-2" title="2"><span class="kw">str_view</span>(<span class="dt">string =</span> x, <span class="dt">pattern =</span> <span class="st">&quot;an&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-0651f6cec61dd8dc76a4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0651f6cec61dd8dc76a4">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>b<span class='match'>an<\/span>ana<\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>有时候，我们希望在字符串中，<code>a</code>前后都有字符（a处在两字符中间， rap, bad, sad, wave，spear等等）</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb184-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;.a.&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-0d39980d10fb3c91b90c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d39980d10fb3c91b90c">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li><span class='match'>ban<\/span>ana<\/li>\n  <li>p<span class='match'>ear<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>这里的<code>.</code> 代表任意字符。如果向表达.本身呢？</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" title="1"><span class="kw">c</span>(<span class="st">&quot;s.d&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb185-2" title="2"><span class="st">  </span><span class="kw">str_view</span>(<span class="st">&quot;.&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-b2d2407ab05901880ec7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2d2407ab05901880ec7">{"x":{"html":"<ul>\n  <li><span class='match'>s<\/span>.d<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" title="1"><span class="kw">c</span>(<span class="st">&quot;s.d&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb186-2" title="2"><span class="st">  </span><span class="kw">str_view</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-7cadcdb7f8bb8baf4680" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7cadcdb7f8bb8baf4680">{"x":{"html":"<ul>\n  <li>s<span class='match'>.<\/span>d<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-39" class="section level3">
<h3><span class="header-section-number">7.3.2</span> 锚点</h3>
<p>希望<code>a</code>是字符串的开始</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb187-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;^a&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-b9363b846f62f9bc48e1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b9363b846f62f9bc48e1">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>pple<\/li>\n  <li>banana<\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>希望<code>a</code>是一字符串的末尾</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb188-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;a$&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-8575be8b384f2fe5060b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8575be8b384f2fe5060b">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>banan<span class='match'>a<\/span><\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple pie&quot;</span>, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;apple cake&quot;</span>)</a>
<a class="sourceLine" id="cb189-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;^apple$&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-6eb2c587426f3c167155" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6eb2c587426f3c167155">{"x":{"html":"<ul>\n  <li>apple pie<\/li>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>apple cake<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-40" class="section level3">
<h3><span class="header-section-number">7.3.3</span> 字符类与字符选项</h3>
<p>前面提到，<code>.</code>匹配任意字符，事实上还有很多这种<strong>特殊含义</strong>的字符：</p>
<ul>
<li><code>\d</code>: matches any digit.</li>
<li><code>\s</code>: matches any whitespace (e.g. space, tab, newline).</li>
<li><code>[abc]</code>: matches a, b, or c.</li>
<li><code>[^abc]</code>: matches anything except a, b, or c.</li>
</ul>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" title="1"><span class="kw">str_view</span>(<span class="kw">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;gray&quot;</span>), <span class="st">&quot;gr[ea]y&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-03b6481013a6d3e39f6f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-03b6481013a6d3e39f6f">{"x":{"html":"<ul>\n  <li><span class='match'>grey<\/span><\/li>\n  <li><span class='match'>gray<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-41" class="section level3">
<h3><span class="header-section-number">7.3.4</span> 重复</h3>
<p>控制匹配次数:</p>
<ul>
<li><code>?</code>: 0 or 1</li>
<li><code>+</code>: 1 or more</li>
<li><code>*</code>: 0 or more</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" title="1">x &lt;-<span class="st"> &quot;Roman numerals: MDCCCLXXXVIII&quot;</span></a>
<a class="sourceLine" id="cb191-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;CC?&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-e1972a3e4b25d4e728fc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e1972a3e4b25d4e728fc">{"x":{"html":"<ul>\n  <li>Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" title="1"><span class="kw">str_view</span>(x, <span class="st">&quot;X+&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-f93034a71b8ce0dfc343" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-f93034a71b8ce0dfc343">{"x":{"html":"<ul>\n  <li>Roman numerals: MDCCCL<span class='match'>XXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>控制匹配次数:</p>
<ul>
<li><code>{n}</code>: exactly n</li>
<li><code>{n,}</code>: n or more</li>
<li><code>{,m}</code>: at most m</li>
<li><code>{n,m}</code>: between n and m</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" title="1">x &lt;-<span class="st"> &quot;Roman numerals: MDCCCLXXXVIII&quot;</span></a>
<a class="sourceLine" id="cb193-2" title="2"><span class="kw">str_view</span>(x, <span class="st">&quot;C{2}&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-926735684ccd9a39f10d" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-926735684ccd9a39f10d">{"x":{"html":"<ul>\n  <li>Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" title="1"><span class="kw">str_view</span>(x, <span class="st">&quot;C{2,}&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-c8dac57c01f55063ebe7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-c8dac57c01f55063ebe7">{"x":{"html":"<ul>\n  <li>Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" title="1"><span class="kw">str_view</span>(x, <span class="st">&quot;C{2,3}&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-11164509f03c20381f9c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-11164509f03c20381f9c">{"x":{"html":"<ul>\n  <li>Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li>默认的情况，<code>*</code>, <code>+</code> 匹配都是<strong>贪婪</strong>的，也就是它会尽可能的匹配更多</li>
<li>如果想让它不贪婪，而是变得懒惰起来，可以在<code>*</code>, <code>+</code> 加个<code>?</code></li>
</ul>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" title="1">x &lt;-<span class="st"> &quot;Roman numerals: MDCCCLXXXVIII&quot;</span></a>
<a class="sourceLine" id="cb196-2" title="2"></a>
<a class="sourceLine" id="cb196-3" title="3"><span class="kw">str_view</span>(x, <span class="st">&quot;CLX+&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-48cbbe4de0ae86fbc666" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-48cbbe4de0ae86fbc666">{"x":{"html":"<ul>\n  <li>Roman numerals: MDCC<span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" title="1"><span class="kw">str_view</span>(x, <span class="st">&quot;CLX+?&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-51ecc70647d4283db374" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-51ecc70647d4283db374">{"x":{"html":"<ul>\n  <li>Roman numerals: MDCC<span class='match'>CLX<\/span>XXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>小结一下呢</p>
<p><img src="images/regex_repeat.jpg" width="75%" /></p>
</div>
<div id="section-42" class="section level3">
<h3><span class="header-section-number">7.3.5</span> 分组与回溯引用</h3>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" title="1">ft &lt;-<span class="st"> </span>fruit <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb198-2" title="2">ft</a></code></pre></div>
<pre><code>##  [1] &quot;apple&quot;        &quot;apricot&quot;      &quot;avocado&quot;     
##  [4] &quot;banana&quot;       &quot;bell pepper&quot;  &quot;bilberry&quot;    
##  [7] &quot;blackberry&quot;   &quot;blackcurrant&quot; &quot;blood orange&quot;
## [10] &quot;blueberry&quot;</code></pre>
<p>我们想看看这些单词里，有哪些字母是重复两次的，比如<code>aa</code>, <code>pp</code>. 如果用上面学的方法</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" title="1"><span class="kw">str_view</span>(ft, <span class="st">&quot;.{2}&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-8fd85cbd3a2c501f7b60" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fd85cbd3a2c501f7b60">{"x":{"html":"<ul>\n  <li><span class='match'>ap<\/span>ple<\/li>\n  <li><span class='match'>ap<\/span>ricot<\/li>\n  <li><span class='match'>av<\/span>ocado<\/li>\n  <li><span class='match'>ba<\/span>nana<\/li>\n  <li><span class='match'>be<\/span>ll pepper<\/li>\n  <li><span class='match'>bi<\/span>lberry<\/li>\n  <li><span class='match'>bl<\/span>ackberry<\/li>\n  <li><span class='match'>bl<\/span>ackcurrant<\/li>\n  <li><span class='match'>bl<\/span>ood orange<\/li>\n  <li><span class='match'>bl<\/span>ueberry<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>发现不是和我们的预想不一样呢。</p>
<p>所以需要用到新技术 <strong>分组与回溯引用</strong>，</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" title="1"><span class="kw">str_view</span>(ft, <span class="st">&quot;(.)</span><span class="ch">\\</span><span class="st">1&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-422e8bdb5c588a469e93" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-422e8bdb5c588a469e93">{"x":{"html":"<ul>\n  <li>a<span class='match'>pp<\/span>le<\/li>\n  <li>be<span class='match'>ll<\/span> pepper<\/li>\n  <li>bilbe<span class='match'>rr<\/span>y<\/li>\n  <li>blackbe<span class='match'>rr<\/span>y<\/li>\n  <li>blackcu<span class='match'>rr<\/span>ant<\/li>\n  <li>bl<span class='match'>oo<\/span>d orange<\/li>\n  <li>bluebe<span class='match'>rr<\/span>y<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>.</code> 是匹配任何字符</li>
<li><code>(.)</code> 将匹配项括起来，它就用了一个名字，叫<code>\\1</code>； 如果有两个括号，就叫<code>\\1</code>和<code>\\2</code></li>
<li><code>\\1</code> 表示回溯引用，表示引用<code>\\1</code>对于的<code>(.)</code></li>
</ul>
<p>所以<code>(.)\\1</code>的意思就是，匹配到了字符，后面还希望有个<strong>同样的字符</strong></p>
<p>如果是匹配<code>abab</code>, <code>wcwc</code></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" title="1"><span class="kw">str_view</span>(ft, <span class="st">&quot;(..)</span><span class="ch">\\</span><span class="st">1&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-7c8ed0d5f65563c6d3c1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7c8ed0d5f65563c6d3c1">{"x":{"html":"<ul>\n  <li>b<span class='match'>anan<\/span>a<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>如果是匹配<code>abba</code>, <code>wccw</code>呢？</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" title="1"><span class="kw">str_view</span>(ft, <span class="st">&quot;(.)(.)</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-d6dc83f4872f6a208423" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d6dc83f4872f6a208423">{"x":{"html":"<ul>\n  <li>bell p<span class='match'>eppe<\/span>r<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>是不是很神奇？</p>
</div>
</div>
<div id="section-43" class="section level2">
<h2><span class="header-section-number">7.4</span> 解决实际问题</h2>
<div id="section-44" class="section level3">
<h3><span class="header-section-number">7.4.1</span> 确定一个字符向量是否匹配一种模式</h3>
<p>实际问题中，我们希望得到，是否匹配？或者将匹配的筛选处理，
这个时候，需要用到<code>str_detect</code>等函数</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb204-2" title="2"><span class="kw">str_detect</span>(x, <span class="st">&quot;e&quot;</span>)</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<p><code>stringr::words</code>包含了牛津字典里常用单词</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" title="1">stringr<span class="op">::</span>words <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;        &quot;able&quot;     &quot;about&quot;    &quot;absolute&quot;
## [5] &quot;accept&quot;   &quot;account&quot;</code></pre>
<p>我们统计下以<code>t</code>开头的单词，有多少个？</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" title="1"><span class="co"># How many common words start with t?</span></a>
<a class="sourceLine" id="cb208-2" title="2"><span class="kw">sum</span>(<span class="kw">str_detect</span>(words, <span class="st">&quot;^t&quot;</span>))</a></code></pre></div>
<pre><code>## [1] 65</code></pre>
<p>我们又一次看到了<strong>强制转换</strong>.</p>
<p>以元音结尾的单词，占比多少？</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" title="1"><span class="co"># proportion of common words end with a vowel?</span></a>
<a class="sourceLine" id="cb210-2" title="2"><span class="kw">mean</span>(<span class="kw">str_detect</span>(words, <span class="st">&quot;[aeiou]$&quot;</span>))</a></code></pre></div>
<pre><code>## [1] 0.2765</code></pre>
<p>放在数据框里看看, 看看以<code>x</code>结尾的单词是哪些？</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" title="1"><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb212-2" title="2">  <span class="dt">word =</span> words</a>
<a class="sourceLine" id="cb212-3" title="3">) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb212-4" title="4"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(word, <span class="st">&quot;x$&quot;</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["word"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"box"},{"1":"sex"},{"1":"six"},{"1":"tax"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>str_detect()</code> 有一个功能类似的函数<code>str_count()</code>，区别在于，后者不是简单地返回是或否，而是返回字符串中匹配的数量</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</a>
<a class="sourceLine" id="cb213-2" title="2"><span class="kw">str_count</span>(x, <span class="st">&quot;a&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 1 3 1</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" title="1"><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb215-2" title="2">  <span class="dt">word =</span> words</a>
<a class="sourceLine" id="cb215-3" title="3">) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb215-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb215-5" title="5">    <span class="dt">vowels =</span> <span class="kw">str_count</span>(word, <span class="st">&quot;[aeiou]&quot;</span>),</a>
<a class="sourceLine" id="cb215-6" title="6">    <span class="dt">consonants =</span> <span class="kw">str_count</span>(word, <span class="st">&quot;[^aeiou]&quot;</span>)</a>
<a class="sourceLine" id="cb215-7" title="7">  )</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["word"],"name":[1],"type":["chr"],"align":["left"]},{"label":["vowels"],"name":[2],"type":["int"],"align":["right"]},{"label":["consonants"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"1","3":"0"},{"1":"able","2":"2","3":"2"},{"1":"about","2":"3","3":"2"},{"1":"absolute","2":"4","3":"4"},{"1":"accept","2":"2","3":"4"},{"1":"account","2":"3","3":"4"},{"1":"achieve","2":"4","3":"3"},{"1":"across","2":"2","3":"4"},{"1":"act","2":"1","3":"2"},{"1":"active","2":"3","3":"3"},{"1":"actual","2":"3","3":"3"},{"1":"add","2":"1","3":"2"},{"1":"address","2":"2","3":"5"},{"1":"admit","2":"2","3":"3"},{"1":"advertise","2":"4","3":"5"},{"1":"affect","2":"2","3":"4"},{"1":"afford","2":"2","3":"4"},{"1":"after","2":"2","3":"3"},{"1":"afternoon","2":"4","3":"5"},{"1":"again","2":"3","3":"2"},{"1":"against","2":"3","3":"4"},{"1":"age","2":"2","3":"1"},{"1":"agent","2":"2","3":"3"},{"1":"ago","2":"2","3":"1"},{"1":"agree","2":"3","3":"2"},{"1":"air","2":"2","3":"1"},{"1":"all","2":"1","3":"2"},{"1":"allow","2":"2","3":"3"},{"1":"almost","2":"2","3":"4"},{"1":"along","2":"2","3":"3"},{"1":"already","2":"3","3":"4"},{"1":"alright","2":"2","3":"5"},{"1":"also","2":"2","3":"2"},{"1":"although","2":"3","3":"5"},{"1":"always","2":"2","3":"4"},{"1":"america","2":"4","3":"3"},{"1":"amount","2":"3","3":"3"},{"1":"and","2":"1","3":"2"},{"1":"another","2":"3","3":"4"},{"1":"answer","2":"2","3":"4"},{"1":"any","2":"1","3":"2"},{"1":"apart","2":"2","3":"3"},{"1":"apparent","2":"3","3":"5"},{"1":"appear","2":"3","3":"3"},{"1":"apply","2":"1","3":"4"},{"1":"appoint","2":"3","3":"4"},{"1":"approach","2":"3","3":"5"},{"1":"appropriate","2":"5","3":"6"},{"1":"area","2":"3","3":"1"},{"1":"argue","2":"3","3":"2"},{"1":"arm","2":"1","3":"2"},{"1":"around","2":"3","3":"3"},{"1":"arrange","2":"3","3":"4"},{"1":"art","2":"1","3":"2"},{"1":"as","2":"1","3":"1"},{"1":"ask","2":"1","3":"2"},{"1":"associate","2":"5","3":"4"},{"1":"assume","2":"3","3":"3"},{"1":"at","2":"1","3":"1"},{"1":"attend","2":"2","3":"4"},{"1":"authority","2":"4","3":"5"},{"1":"available","2":"5","3":"4"},{"1":"aware","2":"3","3":"2"},{"1":"away","2":"2","3":"2"},{"1":"awful","2":"2","3":"3"},{"1":"baby","2":"1","3":"3"},{"1":"back","2":"1","3":"3"},{"1":"bad","2":"1","3":"2"},{"1":"bag","2":"1","3":"2"},{"1":"balance","2":"3","3":"4"},{"1":"ball","2":"1","3":"3"},{"1":"bank","2":"1","3":"3"},{"1":"bar","2":"1","3":"2"},{"1":"base","2":"2","3":"2"},{"1":"basis","2":"2","3":"3"},{"1":"be","2":"1","3":"1"},{"1":"bear","2":"2","3":"2"},{"1":"beat","2":"2","3":"2"},{"1":"beauty","2":"3","3":"3"},{"1":"because","2":"4","3":"3"},{"1":"become","2":"3","3":"3"},{"1":"bed","2":"1","3":"2"},{"1":"before","2":"3","3":"3"},{"1":"begin","2":"2","3":"3"},{"1":"behind","2":"2","3":"4"},{"1":"believe","2":"4","3":"3"},{"1":"benefit","2":"3","3":"4"},{"1":"best","2":"1","3":"3"},{"1":"bet","2":"1","3":"2"},{"1":"between","2":"3","3":"4"},{"1":"big","2":"1","3":"2"},{"1":"bill","2":"1","3":"3"},{"1":"birth","2":"1","3":"4"},{"1":"bit","2":"1","3":"2"},{"1":"black","2":"1","3":"4"},{"1":"bloke","2":"2","3":"3"},{"1":"blood","2":"2","3":"3"},{"1":"blow","2":"1","3":"3"},{"1":"blue","2":"2","3":"2"},{"1":"board","2":"2","3":"3"},{"1":"boat","2":"2","3":"2"},{"1":"body","2":"1","3":"3"},{"1":"book","2":"2","3":"2"},{"1":"both","2":"1","3":"3"},{"1":"bother","2":"2","3":"4"},{"1":"bottle","2":"2","3":"4"},{"1":"bottom","2":"2","3":"4"},{"1":"box","2":"1","3":"2"},{"1":"boy","2":"1","3":"2"},{"1":"break","2":"2","3":"3"},{"1":"brief","2":"2","3":"3"},{"1":"brilliant","2":"3","3":"6"},{"1":"bring","2":"1","3":"4"},{"1":"britain","2":"3","3":"4"},{"1":"brother","2":"2","3":"5"},{"1":"budget","2":"2","3":"4"},{"1":"build","2":"2","3":"3"},{"1":"bus","2":"1","3":"2"},{"1":"business","2":"3","3":"5"},{"1":"busy","2":"1","3":"3"},{"1":"but","2":"1","3":"2"},{"1":"buy","2":"1","3":"2"},{"1":"by","2":"0","3":"2"},{"1":"cake","2":"2","3":"2"},{"1":"call","2":"1","3":"3"},{"1":"can","2":"1","3":"2"},{"1":"car","2":"1","3":"2"},{"1":"card","2":"1","3":"3"},{"1":"care","2":"2","3":"2"},{"1":"carry","2":"1","3":"4"},{"1":"case","2":"2","3":"2"},{"1":"cat","2":"1","3":"2"},{"1":"catch","2":"1","3":"4"},{"1":"cause","2":"3","3":"2"},{"1":"cent","2":"1","3":"3"},{"1":"centre","2":"2","3":"4"},{"1":"certain","2":"3","3":"4"},{"1":"chair","2":"2","3":"3"},{"1":"chairman","2":"3","3":"5"},{"1":"chance","2":"2","3":"4"},{"1":"change","2":"2","3":"4"},{"1":"chap","2":"1","3":"3"},{"1":"character","2":"3","3":"6"},{"1":"charge","2":"2","3":"4"},{"1":"cheap","2":"2","3":"3"},{"1":"check","2":"1","3":"4"},{"1":"child","2":"1","3":"4"},{"1":"choice","2":"3","3":"3"},{"1":"choose","2":"3","3":"3"},{"1":"Christ","2":"1","3":"5"},{"1":"Christmas","2":"2","3":"7"},{"1":"church","2":"1","3":"5"},{"1":"city","2":"1","3":"3"},{"1":"claim","2":"2","3":"3"},{"1":"class","2":"1","3":"4"},{"1":"clean","2":"2","3":"3"},{"1":"clear","2":"2","3":"3"},{"1":"client","2":"2","3":"4"},{"1":"clock","2":"1","3":"4"},{"1":"close","2":"2","3":"3"},{"1":"closes","2":"2","3":"4"},{"1":"clothe","2":"2","3":"4"},{"1":"club","2":"1","3":"3"},{"1":"coffee","2":"3","3":"3"},{"1":"cold","2":"1","3":"3"},{"1":"colleague","2":"5","3":"4"},{"1":"collect","2":"2","3":"5"},{"1":"college","2":"3","3":"4"},{"1":"colour","2":"3","3":"3"},{"1":"come","2":"2","3":"2"},{"1":"comment","2":"2","3":"5"},{"1":"commit","2":"2","3":"4"},{"1":"committee","2":"4","3":"5"},{"1":"common","2":"2","3":"4"},{"1":"community","2":"3","3":"6"},{"1":"company","2":"2","3":"5"},{"1":"compare","2":"3","3":"4"},{"1":"complete","2":"3","3":"5"},{"1":"compute","2":"3","3":"4"},{"1":"concern","2":"2","3":"5"},{"1":"condition","2":"4","3":"5"},{"1":"confer","2":"2","3":"4"},{"1":"consider","2":"3","3":"5"},{"1":"consult","2":"2","3":"5"},{"1":"contact","2":"2","3":"5"},{"1":"continue","2":"4","3":"4"},{"1":"contract","2":"2","3":"6"},{"1":"control","2":"2","3":"5"},{"1":"converse","2":"3","3":"5"},{"1":"cook","2":"2","3":"2"},{"1":"copy","2":"1","3":"3"},{"1":"corner","2":"2","3":"4"},{"1":"correct","2":"2","3":"5"},{"1":"cost","2":"1","3":"3"},{"1":"could","2":"2","3":"3"},{"1":"council","2":"3","3":"4"},{"1":"count","2":"2","3":"3"},{"1":"country","2":"2","3":"5"},{"1":"county","2":"2","3":"4"},{"1":"couple","2":"3","3":"3"},{"1":"course","2":"3","3":"3"},{"1":"court","2":"2","3":"3"},{"1":"cover","2":"2","3":"3"},{"1":"create","2":"3","3":"3"},{"1":"cross","2":"1","3":"4"},{"1":"cup","2":"1","3":"2"},{"1":"current","2":"2","3":"5"},{"1":"cut","2":"1","3":"2"},{"1":"dad","2":"1","3":"2"},{"1":"danger","2":"2","3":"4"},{"1":"date","2":"2","3":"2"},{"1":"day","2":"1","3":"2"},{"1":"dead","2":"2","3":"2"},{"1":"deal","2":"2","3":"2"},{"1":"dear","2":"2","3":"2"},{"1":"debate","2":"3","3":"3"},{"1":"decide","2":"3","3":"3"},{"1":"decision","2":"4","3":"4"},{"1":"deep","2":"2","3":"2"},{"1":"definite","2":"4","3":"4"},{"1":"degree","2":"3","3":"3"},{"1":"department","2":"3","3":"7"},{"1":"depend","2":"2","3":"4"},{"1":"describe","2":"3","3":"5"},{"1":"design","2":"2","3":"4"},{"1":"detail","2":"3","3":"3"},{"1":"develop","2":"3","3":"4"},{"1":"die","2":"2","3":"1"},{"1":"difference","2":"4","3":"6"},{"1":"difficult","2":"3","3":"6"},{"1":"dinner","2":"2","3":"4"},{"1":"direct","2":"2","3":"4"},{"1":"discuss","2":"2","3":"5"},{"1":"district","2":"2","3":"6"},{"1":"divide","2":"3","3":"3"},{"1":"do","2":"1","3":"1"},{"1":"doctor","2":"2","3":"4"},{"1":"document","2":"3","3":"5"},{"1":"dog","2":"1","3":"2"},{"1":"door","2":"2","3":"2"},{"1":"double","2":"3","3":"3"},{"1":"doubt","2":"2","3":"3"},{"1":"down","2":"1","3":"3"},{"1":"draw","2":"1","3":"3"},{"1":"dress","2":"1","3":"4"},{"1":"drink","2":"1","3":"4"},{"1":"drive","2":"2","3":"3"},{"1":"drop","2":"1","3":"3"},{"1":"dry","2":"0","3":"3"},{"1":"due","2":"2","3":"1"},{"1":"during","2":"2","3":"4"},{"1":"each","2":"2","3":"2"},{"1":"early","2":"2","3":"3"},{"1":"east","2":"2","3":"2"},{"1":"easy","2":"2","3":"2"},{"1":"eat","2":"2","3":"1"},{"1":"economy","2":"3","3":"4"},{"1":"educate","2":"4","3":"3"},{"1":"effect","2":"2","3":"4"},{"1":"egg","2":"1","3":"2"},{"1":"eight","2":"2","3":"3"},{"1":"either","2":"3","3":"3"},{"1":"elect","2":"2","3":"3"},{"1":"electric","2":"3","3":"5"},{"1":"eleven","2":"3","3":"3"},{"1":"else","2":"2","3":"2"},{"1":"employ","2":"2","3":"4"},{"1":"encourage","2":"5","3":"4"},{"1":"end","2":"1","3":"2"},{"1":"engine","2":"3","3":"3"},{"1":"english","2":"2","3":"5"},{"1":"enjoy","2":"2","3":"3"},{"1":"enough","2":"3","3":"3"},{"1":"enter","2":"2","3":"3"},{"1":"environment","2":"4","3":"7"},{"1":"equal","2":"3","3":"2"},{"1":"especial","2":"4","3":"4"},{"1":"europe","2":"4","3":"2"},{"1":"even","2":"2","3":"2"},{"1":"evening","2":"3","3":"4"},{"1":"ever","2":"2","3":"2"},{"1":"every","2":"2","3":"3"},{"1":"evidence","2":"4","3":"4"},{"1":"exact","2":"2","3":"3"},{"1":"example","2":"3","3":"4"},{"1":"except","2":"2","3":"4"},{"1":"excuse","2":"3","3":"3"},{"1":"exercise","2":"4","3":"4"},{"1":"exist","2":"2","3":"3"},{"1":"expect","2":"2","3":"4"},{"1":"expense","2":"3","3":"4"},{"1":"experience","2":"5","3":"5"},{"1":"explain","2":"3","3":"4"},{"1":"express","2":"2","3":"5"},{"1":"extra","2":"2","3":"3"},{"1":"eye","2":"2","3":"1"},{"1":"face","2":"2","3":"2"},{"1":"fact","2":"1","3":"3"},{"1":"fair","2":"2","3":"2"},{"1":"fall","2":"1","3":"3"},{"1":"family","2":"2","3":"4"},{"1":"far","2":"1","3":"2"},{"1":"farm","2":"1","3":"3"},{"1":"fast","2":"1","3":"3"},{"1":"father","2":"2","3":"4"},{"1":"favour","2":"3","3":"3"},{"1":"feed","2":"2","3":"2"},{"1":"feel","2":"2","3":"2"},{"1":"few","2":"1","3":"2"},{"1":"field","2":"2","3":"3"},{"1":"fight","2":"1","3":"4"},{"1":"figure","2":"3","3":"3"},{"1":"file","2":"2","3":"2"},{"1":"fill","2":"1","3":"3"},{"1":"film","2":"1","3":"3"},{"1":"final","2":"2","3":"3"},{"1":"finance","2":"3","3":"4"},{"1":"find","2":"1","3":"3"},{"1":"fine","2":"2","3":"2"},{"1":"finish","2":"2","3":"4"},{"1":"fire","2":"2","3":"2"},{"1":"first","2":"1","3":"4"},{"1":"fish","2":"1","3":"3"},{"1":"fit","2":"1","3":"2"},{"1":"five","2":"2","3":"2"},{"1":"flat","2":"1","3":"3"},{"1":"floor","2":"2","3":"3"},{"1":"fly","2":"0","3":"3"},{"1":"follow","2":"2","3":"4"},{"1":"food","2":"2","3":"2"},{"1":"foot","2":"2","3":"2"},{"1":"for","2":"1","3":"2"},{"1":"force","2":"2","3":"3"},{"1":"forget","2":"2","3":"4"},{"1":"form","2":"1","3":"3"},{"1":"fortune","2":"3","3":"4"},{"1":"forward","2":"2","3":"5"},{"1":"four","2":"2","3":"2"},{"1":"france","2":"2","3":"4"},{"1":"free","2":"2","3":"2"},{"1":"friday","2":"2","3":"4"},{"1":"friend","2":"2","3":"4"},{"1":"from","2":"1","3":"3"},{"1":"front","2":"1","3":"4"},{"1":"full","2":"1","3":"3"},{"1":"fun","2":"1","3":"2"},{"1":"function","2":"3","3":"5"},{"1":"fund","2":"1","3":"3"},{"1":"further","2":"2","3":"5"},{"1":"future","2":"3","3":"3"},{"1":"game","2":"2","3":"2"},{"1":"garden","2":"2","3":"4"},{"1":"gas","2":"1","3":"2"},{"1":"general","2":"3","3":"4"},{"1":"germany","2":"2","3":"5"},{"1":"get","2":"1","3":"2"},{"1":"girl","2":"1","3":"3"},{"1":"give","2":"2","3":"2"},{"1":"glass","2":"1","3":"4"},{"1":"go","2":"1","3":"1"},{"1":"god","2":"1","3":"2"},{"1":"good","2":"2","3":"2"},{"1":"goodbye","2":"3","3":"4"},{"1":"govern","2":"2","3":"4"},{"1":"grand","2":"1","3":"4"},{"1":"grant","2":"1","3":"4"},{"1":"great","2":"2","3":"3"},{"1":"green","2":"2","3":"3"},{"1":"ground","2":"2","3":"4"},{"1":"group","2":"2","3":"3"},{"1":"grow","2":"1","3":"3"},{"1":"guess","2":"2","3":"3"},{"1":"guy","2":"1","3":"2"},{"1":"hair","2":"2","3":"2"},{"1":"half","2":"1","3":"3"},{"1":"hall","2":"1","3":"3"},{"1":"hand","2":"1","3":"3"},{"1":"hang","2":"1","3":"3"},{"1":"happen","2":"2","3":"4"},{"1":"happy","2":"1","3":"4"},{"1":"hard","2":"1","3":"3"},{"1":"hate","2":"2","3":"2"},{"1":"have","2":"2","3":"2"},{"1":"he","2":"1","3":"1"},{"1":"head","2":"2","3":"2"},{"1":"health","2":"2","3":"4"},{"1":"hear","2":"2","3":"2"},{"1":"heart","2":"2","3":"3"},{"1":"heat","2":"2","3":"2"},{"1":"heavy","2":"2","3":"3"},{"1":"hell","2":"1","3":"3"},{"1":"help","2":"1","3":"3"},{"1":"here","2":"2","3":"2"},{"1":"high","2":"1","3":"3"},{"1":"history","2":"2","3":"5"},{"1":"hit","2":"1","3":"2"},{"1":"hold","2":"1","3":"3"},{"1":"holiday","2":"3","3":"4"},{"1":"home","2":"2","3":"2"},{"1":"honest","2":"2","3":"4"},{"1":"hope","2":"2","3":"2"},{"1":"horse","2":"2","3":"3"},{"1":"hospital","2":"3","3":"5"},{"1":"hot","2":"1","3":"2"},{"1":"hour","2":"2","3":"2"},{"1":"house","2":"3","3":"2"},{"1":"how","2":"1","3":"2"},{"1":"however","2":"3","3":"4"},{"1":"hullo","2":"2","3":"3"},{"1":"hundred","2":"2","3":"5"},{"1":"husband","2":"2","3":"5"},{"1":"idea","2":"3","3":"1"},{"1":"identify","2":"3","3":"5"},{"1":"if","2":"1","3":"1"},{"1":"imagine","2":"4","3":"3"},{"1":"important","2":"3","3":"6"},{"1":"improve","2":"3","3":"4"},{"1":"in","2":"1","3":"1"},{"1":"include","2":"3","3":"4"},{"1":"income","2":"3","3":"3"},{"1":"increase","2":"4","3":"4"},{"1":"indeed","2":"3","3":"3"},{"1":"individual","2":"5","3":"5"},{"1":"industry","2":"2","3":"6"},{"1":"inform","2":"2","3":"4"},{"1":"inside","2":"3","3":"3"},{"1":"instead","2":"3","3":"4"},{"1":"insure","2":"3","3":"3"},{"1":"interest","2":"3","3":"5"},{"1":"into","2":"2","3":"2"},{"1":"introduce","2":"4","3":"5"},{"1":"invest","2":"2","3":"4"},{"1":"involve","2":"3","3":"4"},{"1":"issue","2":"3","3":"2"},{"1":"it","2":"1","3":"1"},{"1":"item","2":"2","3":"2"},{"1":"jesus","2":"2","3":"3"},{"1":"job","2":"1","3":"2"},{"1":"join","2":"2","3":"2"},{"1":"judge","2":"2","3":"3"},{"1":"jump","2":"1","3":"3"},{"1":"just","2":"1","3":"3"},{"1":"keep","2":"2","3":"2"},{"1":"key","2":"1","3":"2"},{"1":"kid","2":"1","3":"2"},{"1":"kill","2":"1","3":"3"},{"1":"kind","2":"1","3":"3"},{"1":"king","2":"1","3":"3"},{"1":"kitchen","2":"2","3":"5"},{"1":"knock","2":"1","3":"4"},{"1":"know","2":"1","3":"3"},{"1":"labour","2":"3","3":"3"},{"1":"lad","2":"1","3":"2"},{"1":"lady","2":"1","3":"3"},{"1":"land","2":"1","3":"3"},{"1":"language","2":"4","3":"4"},{"1":"large","2":"2","3":"3"},{"1":"last","2":"1","3":"3"},{"1":"late","2":"2","3":"2"},{"1":"laugh","2":"2","3":"3"},{"1":"law","2":"1","3":"2"},{"1":"lay","2":"1","3":"2"},{"1":"lead","2":"2","3":"2"},{"1":"learn","2":"2","3":"3"},{"1":"leave","2":"3","3":"2"},{"1":"left","2":"1","3":"3"},{"1":"leg","2":"1","3":"2"},{"1":"less","2":"1","3":"3"},{"1":"let","2":"1","3":"2"},{"1":"letter","2":"2","3":"4"},{"1":"level","2":"2","3":"3"},{"1":"lie","2":"2","3":"1"},{"1":"life","2":"2","3":"2"},{"1":"light","2":"1","3":"4"},{"1":"like","2":"2","3":"2"},{"1":"likely","2":"2","3":"4"},{"1":"limit","2":"2","3":"3"},{"1":"line","2":"2","3":"2"},{"1":"link","2":"1","3":"3"},{"1":"list","2":"1","3":"3"},{"1":"listen","2":"2","3":"4"},{"1":"little","2":"2","3":"4"},{"1":"live","2":"2","3":"2"},{"1":"load","2":"2","3":"2"},{"1":"local","2":"2","3":"3"},{"1":"lock","2":"1","3":"3"},{"1":"london","2":"2","3":"4"},{"1":"long","2":"1","3":"3"},{"1":"look","2":"2","3":"2"},{"1":"lord","2":"1","3":"3"},{"1":"lose","2":"2","3":"2"},{"1":"lot","2":"1","3":"2"},{"1":"love","2":"2","3":"2"},{"1":"low","2":"1","3":"2"},{"1":"luck","2":"1","3":"3"},{"1":"lunch","2":"1","3":"4"},{"1":"machine","2":"3","3":"4"},{"1":"main","2":"2","3":"2"},{"1":"major","2":"2","3":"3"},{"1":"make","2":"2","3":"2"},{"1":"man","2":"1","3":"2"},{"1":"manage","2":"3","3":"3"},{"1":"many","2":"1","3":"3"},{"1":"mark","2":"1","3":"3"},{"1":"market","2":"2","3":"4"},{"1":"marry","2":"1","3":"4"},{"1":"match","2":"1","3":"4"},{"1":"matter","2":"2","3":"4"},{"1":"may","2":"1","3":"2"},{"1":"maybe","2":"2","3":"3"},{"1":"mean","2":"2","3":"2"},{"1":"meaning","2":"3","3":"4"},{"1":"measure","2":"4","3":"3"},{"1":"meet","2":"2","3":"2"},{"1":"member","2":"2","3":"4"},{"1":"mention","2":"3","3":"4"},{"1":"middle","2":"2","3":"4"},{"1":"might","2":"1","3":"4"},{"1":"mile","2":"2","3":"2"},{"1":"milk","2":"1","3":"3"},{"1":"million","2":"3","3":"4"},{"1":"mind","2":"1","3":"3"},{"1":"minister","2":"3","3":"5"},{"1":"minus","2":"2","3":"3"},{"1":"minute","2":"3","3":"3"},{"1":"miss","2":"1","3":"3"},{"1":"mister","2":"2","3":"4"},{"1":"moment","2":"2","3":"4"},{"1":"monday","2":"2","3":"4"},{"1":"money","2":"2","3":"3"},{"1":"month","2":"1","3":"4"},{"1":"more","2":"2","3":"2"},{"1":"morning","2":"2","3":"5"},{"1":"most","2":"1","3":"3"},{"1":"mother","2":"2","3":"4"},{"1":"motion","2":"3","3":"3"},{"1":"move","2":"2","3":"2"},{"1":"mrs","2":"0","3":"3"},{"1":"much","2":"1","3":"3"},{"1":"music","2":"2","3":"3"},{"1":"must","2":"1","3":"3"},{"1":"name","2":"2","3":"2"},{"1":"nation","2":"3","3":"3"},{"1":"nature","2":"3","3":"3"},{"1":"near","2":"2","3":"2"},{"1":"necessary","2":"3","3":"6"},{"1":"need","2":"2","3":"2"},{"1":"never","2":"2","3":"3"},{"1":"new","2":"1","3":"2"},{"1":"news","2":"1","3":"3"},{"1":"next","2":"1","3":"3"},{"1":"nice","2":"2","3":"2"},{"1":"night","2":"1","3":"4"},{"1":"nine","2":"2","3":"2"},{"1":"no","2":"1","3":"1"},{"1":"non","2":"1","3":"2"},{"1":"none","2":"2","3":"2"},{"1":"normal","2":"2","3":"4"},{"1":"north","2":"1","3":"4"},{"1":"not","2":"1","3":"2"},{"1":"note","2":"2","3":"2"},{"1":"notice","2":"3","3":"3"},{"1":"now","2":"1","3":"2"},{"1":"number","2":"2","3":"4"},{"1":"obvious","2":"4","3":"3"},{"1":"occasion","2":"4","3":"4"},{"1":"odd","2":"1","3":"2"},{"1":"of","2":"1","3":"1"},{"1":"off","2":"1","3":"2"},{"1":"offer","2":"2","3":"3"},{"1":"office","2":"3","3":"3"},{"1":"often","2":"2","3":"3"},{"1":"okay","2":"2","3":"2"},{"1":"old","2":"1","3":"2"},{"1":"on","2":"1","3":"1"},{"1":"once","2":"2","3":"2"},{"1":"one","2":"2","3":"1"},{"1":"only","2":"1","3":"3"},{"1":"open","2":"2","3":"2"},{"1":"operate","2":"4","3":"3"},{"1":"opportunity","2":"4","3":"7"},{"1":"oppose","2":"3","3":"3"},{"1":"or","2":"1","3":"1"},{"1":"order","2":"2","3":"3"},{"1":"organize","2":"4","3":"4"},{"1":"original","2":"4","3":"4"},{"1":"other","2":"2","3":"3"},{"1":"otherwise","2":"4","3":"5"},{"1":"ought","2":"2","3":"3"},{"1":"out","2":"2","3":"1"},{"1":"over","2":"2","3":"2"},{"1":"own","2":"1","3":"2"},{"1":"pack","2":"1","3":"3"},{"1":"page","2":"2","3":"2"},{"1":"paint","2":"2","3":"3"},{"1":"pair","2":"2","3":"2"},{"1":"paper","2":"2","3":"3"},{"1":"paragraph","2":"3","3":"6"},{"1":"pardon","2":"2","3":"4"},{"1":"parent","2":"2","3":"4"},{"1":"park","2":"1","3":"3"},{"1":"part","2":"1","3":"3"},{"1":"particular","2":"4","3":"6"},{"1":"party","2":"1","3":"4"},{"1":"pass","2":"1","3":"3"},{"1":"past","2":"1","3":"3"},{"1":"pay","2":"1","3":"2"},{"1":"pence","2":"2","3":"3"},{"1":"pension","2":"3","3":"4"},{"1":"people","2":"3","3":"3"},{"1":"per","2":"1","3":"2"},{"1":"percent","2":"2","3":"5"},{"1":"perfect","2":"2","3":"5"},{"1":"perhaps","2":"2","3":"5"},{"1":"period","2":"3","3":"3"},{"1":"person","2":"2","3":"4"},{"1":"photograph","2":"3","3":"7"},{"1":"pick","2":"1","3":"3"},{"1":"picture","2":"3","3":"4"},{"1":"piece","2":"3","3":"2"},{"1":"place","2":"2","3":"3"},{"1":"plan","2":"1","3":"3"},{"1":"play","2":"1","3":"3"},{"1":"please","2":"3","3":"3"},{"1":"plus","2":"1","3":"3"},{"1":"point","2":"2","3":"3"},{"1":"police","2":"3","3":"3"},{"1":"policy","2":"2","3":"4"},{"1":"politic","2":"3","3":"4"},{"1":"poor","2":"2","3":"2"},{"1":"position","2":"4","3":"4"},{"1":"positive","2":"4","3":"4"},{"1":"possible","2":"3","3":"5"},{"1":"post","2":"1","3":"3"},{"1":"pound","2":"2","3":"3"},{"1":"power","2":"2","3":"3"},{"1":"practise","2":"3","3":"5"},{"1":"prepare","2":"3","3":"4"},{"1":"present","2":"2","3":"5"},{"1":"press","2":"1","3":"4"},{"1":"pressure","2":"3","3":"5"},{"1":"presume","2":"3","3":"4"},{"1":"pretty","2":"1","3":"5"},{"1":"previous","2":"4","3":"4"},{"1":"price","2":"2","3":"3"},{"1":"print","2":"1","3":"4"},{"1":"private","2":"3","3":"4"},{"1":"probable","2":"3","3":"5"},{"1":"problem","2":"2","3":"5"},{"1":"proceed","2":"3","3":"4"},{"1":"process","2":"2","3":"5"},{"1":"produce","2":"3","3":"4"},{"1":"product","2":"2","3":"5"},{"1":"programme","2":"3","3":"6"},{"1":"project","2":"2","3":"5"},{"1":"proper","2":"2","3":"4"},{"1":"propose","2":"3","3":"4"},{"1":"protect","2":"2","3":"5"},{"1":"provide","2":"3","3":"4"},{"1":"public","2":"2","3":"4"},{"1":"pull","2":"1","3":"3"},{"1":"purpose","2":"3","3":"4"},{"1":"push","2":"1","3":"3"},{"1":"put","2":"1","3":"2"},{"1":"quality","2":"3","3":"4"},{"1":"quarter","2":"3","3":"4"},{"1":"question","2":"4","3":"4"},{"1":"quick","2":"2","3":"3"},{"1":"quid","2":"2","3":"2"},{"1":"quiet","2":"3","3":"2"},{"1":"quite","2":"3","3":"2"},{"1":"radio","2":"3","3":"2"},{"1":"rail","2":"2","3":"2"},{"1":"raise","2":"3","3":"2"},{"1":"range","2":"2","3":"3"},{"1":"rate","2":"2","3":"2"},{"1":"rather","2":"2","3":"4"},{"1":"read","2":"2","3":"2"},{"1":"ready","2":"2","3":"3"},{"1":"real","2":"2","3":"2"},{"1":"realise","2":"4","3":"3"},{"1":"really","2":"2","3":"4"},{"1":"reason","2":"3","3":"3"},{"1":"receive","2":"4","3":"3"},{"1":"recent","2":"2","3":"4"},{"1":"reckon","2":"2","3":"4"},{"1":"recognize","2":"4","3":"5"},{"1":"recommend","2":"3","3":"6"},{"1":"record","2":"2","3":"4"},{"1":"red","2":"1","3":"2"},{"1":"reduce","2":"3","3":"3"},{"1":"refer","2":"2","3":"3"},{"1":"regard","2":"2","3":"4"},{"1":"region","2":"3","3":"3"},{"1":"relation","2":"4","3":"4"},{"1":"remember","2":"3","3":"5"},{"1":"report","2":"2","3":"4"},{"1":"represent","2":"3","3":"6"},{"1":"require","2":"4","3":"3"},{"1":"research","2":"3","3":"5"},{"1":"resource","2":"4","3":"4"},{"1":"respect","2":"2","3":"5"},{"1":"responsible","2":"4","3":"7"},{"1":"rest","2":"1","3":"3"},{"1":"result","2":"2","3":"4"},{"1":"return","2":"2","3":"4"},{"1":"rid","2":"1","3":"2"},{"1":"right","2":"1","3":"4"},{"1":"ring","2":"1","3":"3"},{"1":"rise","2":"2","3":"2"},{"1":"road","2":"2","3":"2"},{"1":"role","2":"2","3":"2"},{"1":"roll","2":"1","3":"3"},{"1":"room","2":"2","3":"2"},{"1":"round","2":"2","3":"3"},{"1":"rule","2":"2","3":"2"},{"1":"run","2":"1","3":"2"},{"1":"safe","2":"2","3":"2"},{"1":"sale","2":"2","3":"2"},{"1":"same","2":"2","3":"2"},{"1":"saturday","2":"3","3":"5"},{"1":"save","2":"2","3":"2"},{"1":"say","2":"1","3":"2"},{"1":"scheme","2":"2","3":"4"},{"1":"school","2":"2","3":"4"},{"1":"science","2":"3","3":"4"},{"1":"score","2":"2","3":"3"},{"1":"scotland","2":"2","3":"6"},{"1":"seat","2":"2","3":"2"},{"1":"second","2":"2","3":"4"},{"1":"secretary","2":"3","3":"6"},{"1":"section","2":"3","3":"4"},{"1":"secure","2":"3","3":"3"},{"1":"see","2":"2","3":"1"},{"1":"seem","2":"2","3":"2"},{"1":"self","2":"1","3":"3"},{"1":"sell","2":"1","3":"3"},{"1":"send","2":"1","3":"3"},{"1":"sense","2":"2","3":"3"},{"1":"separate","2":"4","3":"4"},{"1":"serious","2":"4","3":"3"},{"1":"serve","2":"2","3":"3"},{"1":"service","2":"3","3":"4"},{"1":"set","2":"1","3":"2"},{"1":"settle","2":"2","3":"4"},{"1":"seven","2":"2","3":"3"},{"1":"sex","2":"1","3":"2"},{"1":"shall","2":"1","3":"4"},{"1":"share","2":"2","3":"3"},{"1":"she","2":"1","3":"2"},{"1":"sheet","2":"2","3":"3"},{"1":"shoe","2":"2","3":"2"},{"1":"shoot","2":"2","3":"3"},{"1":"shop","2":"1","3":"3"},{"1":"short","2":"1","3":"4"},{"1":"should","2":"2","3":"4"},{"1":"show","2":"1","3":"3"},{"1":"shut","2":"1","3":"3"},{"1":"sick","2":"1","3":"3"},{"1":"side","2":"2","3":"2"},{"1":"sign","2":"1","3":"3"},{"1":"similar","2":"3","3":"4"},{"1":"simple","2":"2","3":"4"},{"1":"since","2":"2","3":"3"},{"1":"sing","2":"1","3":"3"},{"1":"single","2":"2","3":"4"},{"1":"sir","2":"1","3":"2"},{"1":"sister","2":"2","3":"4"},{"1":"sit","2":"1","3":"2"},{"1":"site","2":"2","3":"2"},{"1":"situate","2":"4","3":"3"},{"1":"six","2":"1","3":"2"},{"1":"size","2":"2","3":"2"},{"1":"sleep","2":"2","3":"3"},{"1":"slight","2":"1","3":"5"},{"1":"slow","2":"1","3":"3"},{"1":"small","2":"1","3":"4"},{"1":"smoke","2":"2","3":"3"},{"1":"so","2":"1","3":"1"},{"1":"social","2":"3","3":"3"},{"1":"society","2":"3","3":"4"},{"1":"some","2":"2","3":"2"},{"1":"son","2":"1","3":"2"},{"1":"soon","2":"2","3":"2"},{"1":"sorry","2":"1","3":"4"},{"1":"sort","2":"1","3":"3"},{"1":"sound","2":"2","3":"3"},{"1":"south","2":"2","3":"3"},{"1":"space","2":"2","3":"3"},{"1":"speak","2":"2","3":"3"},{"1":"special","2":"3","3":"4"},{"1":"specific","2":"3","3":"5"},{"1":"speed","2":"2","3":"3"},{"1":"spell","2":"1","3":"4"},{"1":"spend","2":"1","3":"4"},{"1":"square","2":"3","3":"3"},{"1":"staff","2":"1","3":"4"},{"1":"stage","2":"2","3":"3"},{"1":"stairs","2":"2","3":"4"},{"1":"stand","2":"1","3":"4"},{"1":"standard","2":"2","3":"6"},{"1":"start","2":"1","3":"4"},{"1":"state","2":"2","3":"3"},{"1":"station","2":"3","3":"4"},{"1":"stay","2":"1","3":"3"},{"1":"step","2":"1","3":"3"},{"1":"stick","2":"1","3":"4"},{"1":"still","2":"1","3":"4"},{"1":"stop","2":"1","3":"3"},{"1":"story","2":"1","3":"4"},{"1":"straight","2":"2","3":"6"},{"1":"strategy","2":"2","3":"6"},{"1":"street","2":"2","3":"4"},{"1":"strike","2":"2","3":"4"},{"1":"strong","2":"1","3":"5"},{"1":"structure","2":"3","3":"6"},{"1":"student","2":"2","3":"5"},{"1":"study","2":"1","3":"4"},{"1":"stuff","2":"1","3":"4"},{"1":"stupid","2":"2","3":"4"},{"1":"subject","2":"2","3":"5"},{"1":"succeed","2":"3","3":"4"},{"1":"such","2":"1","3":"3"},{"1":"sudden","2":"2","3":"4"},{"1":"suggest","2":"2","3":"5"},{"1":"suit","2":"2","3":"2"},{"1":"summer","2":"2","3":"4"},{"1":"sun","2":"1","3":"2"},{"1":"sunday","2":"2","3":"4"},{"1":"supply","2":"1","3":"5"},{"1":"support","2":"2","3":"5"},{"1":"suppose","2":"3","3":"4"},{"1":"sure","2":"2","3":"2"},{"1":"surprise","2":"3","3":"5"},{"1":"switch","2":"1","3":"5"},{"1":"system","2":"1","3":"5"},{"1":"table","2":"2","3":"3"},{"1":"take","2":"2","3":"2"},{"1":"talk","2":"1","3":"3"},{"1":"tape","2":"2","3":"2"},{"1":"tax","2":"1","3":"2"},{"1":"tea","2":"2","3":"1"},{"1":"teach","2":"2","3":"3"},{"1":"team","2":"2","3":"2"},{"1":"telephone","2":"4","3":"5"},{"1":"television","2":"5","3":"5"},{"1":"tell","2":"1","3":"3"},{"1":"ten","2":"1","3":"2"},{"1":"tend","2":"1","3":"3"},{"1":"term","2":"1","3":"3"},{"1":"terrible","2":"3","3":"5"},{"1":"test","2":"1","3":"3"},{"1":"than","2":"1","3":"3"},{"1":"thank","2":"1","3":"4"},{"1":"the","2":"1","3":"2"},{"1":"then","2":"1","3":"3"},{"1":"there","2":"2","3":"3"},{"1":"therefore","2":"4","3":"5"},{"1":"they","2":"1","3":"3"},{"1":"thing","2":"1","3":"4"},{"1":"think","2":"1","3":"4"},{"1":"thirteen","2":"3","3":"5"},{"1":"thirty","2":"1","3":"5"},{"1":"this","2":"1","3":"3"},{"1":"thou","2":"2","3":"2"},{"1":"though","2":"2","3":"4"},{"1":"thousand","2":"3","3":"5"},{"1":"three","2":"2","3":"3"},{"1":"through","2":"2","3":"5"},{"1":"throw","2":"1","3":"4"},{"1":"thursday","2":"2","3":"6"},{"1":"tie","2":"2","3":"1"},{"1":"time","2":"2","3":"2"},{"1":"to","2":"1","3":"1"},{"1":"today","2":"2","3":"3"},{"1":"together","2":"3","3":"5"},{"1":"tomorrow","2":"3","3":"5"},{"1":"tonight","2":"2","3":"5"},{"1":"too","2":"2","3":"1"},{"1":"top","2":"1","3":"2"},{"1":"total","2":"2","3":"3"},{"1":"touch","2":"2","3":"3"},{"1":"toward","2":"2","3":"4"},{"1":"town","2":"1","3":"3"},{"1":"trade","2":"2","3":"3"},{"1":"traffic","2":"2","3":"5"},{"1":"train","2":"2","3":"3"},{"1":"transport","2":"2","3":"7"},{"1":"travel","2":"2","3":"4"},{"1":"treat","2":"2","3":"3"},{"1":"tree","2":"2","3":"2"},{"1":"trouble","2":"3","3":"4"},{"1":"true","2":"2","3":"2"},{"1":"trust","2":"1","3":"4"},{"1":"try","2":"0","3":"3"},{"1":"tuesday","2":"3","3":"4"},{"1":"turn","2":"1","3":"3"},{"1":"twelve","2":"2","3":"4"},{"1":"twenty","2":"1","3":"5"},{"1":"two","2":"1","3":"2"},{"1":"type","2":"1","3":"3"},{"1":"under","2":"2","3":"3"},{"1":"understand","2":"3","3":"7"},{"1":"union","2":"3","3":"2"},{"1":"unit","2":"2","3":"2"},{"1":"unite","2":"3","3":"2"},{"1":"university","2":"4","3":"6"},{"1":"unless","2":"2","3":"4"},{"1":"until","2":"2","3":"3"},{"1":"up","2":"1","3":"1"},{"1":"upon","2":"2","3":"2"},{"1":"use","2":"2","3":"1"},{"1":"usual","2":"3","3":"2"},{"1":"value","2":"3","3":"2"},{"1":"various","2":"4","3":"3"},{"1":"very","2":"1","3":"3"},{"1":"video","2":"3","3":"2"},{"1":"view","2":"2","3":"2"},{"1":"village","2":"3","3":"4"},{"1":"visit","2":"2","3":"3"},{"1":"vote","2":"2","3":"2"},{"1":"wage","2":"2","3":"2"},{"1":"wait","2":"2","3":"2"},{"1":"walk","2":"1","3":"3"},{"1":"wall","2":"1","3":"3"},{"1":"want","2":"1","3":"3"},{"1":"war","2":"1","3":"2"},{"1":"warm","2":"1","3":"3"},{"1":"wash","2":"1","3":"3"},{"1":"waste","2":"2","3":"3"},{"1":"watch","2":"1","3":"4"},{"1":"water","2":"2","3":"3"},{"1":"way","2":"1","3":"2"},{"1":"we","2":"1","3":"1"},{"1":"wear","2":"2","3":"2"},{"1":"wednesday","2":"3","3":"6"},{"1":"wee","2":"2","3":"1"},{"1":"week","2":"2","3":"2"},{"1":"weigh","2":"2","3":"3"},{"1":"welcome","2":"3","3":"4"},{"1":"well","2":"1","3":"3"},{"1":"west","2":"1","3":"3"},{"1":"what","2":"1","3":"3"},{"1":"when","2":"1","3":"3"},{"1":"where","2":"2","3":"3"},{"1":"whether","2":"2","3":"5"},{"1":"which","2":"1","3":"4"},{"1":"while","2":"2","3":"3"},{"1":"white","2":"2","3":"3"},{"1":"who","2":"1","3":"2"},{"1":"whole","2":"2","3":"3"},{"1":"why","2":"0","3":"3"},{"1":"wide","2":"2","3":"2"},{"1":"wife","2":"2","3":"2"},{"1":"will","2":"1","3":"3"},{"1":"win","2":"1","3":"2"},{"1":"wind","2":"1","3":"3"},{"1":"window","2":"2","3":"4"},{"1":"wish","2":"1","3":"3"},{"1":"with","2":"1","3":"3"},{"1":"within","2":"2","3":"4"},{"1":"without","2":"3","3":"4"},{"1":"woman","2":"2","3":"3"},{"1":"wonder","2":"2","3":"4"},{"1":"wood","2":"2","3":"2"},{"1":"word","2":"1","3":"3"},{"1":"work","2":"1","3":"3"},{"1":"world","2":"1","3":"4"},{"1":"worry","2":"1","3":"4"},{"1":"worse","2":"2","3":"3"},{"1":"worth","2":"1","3":"4"},{"1":"would","2":"2","3":"3"},{"1":"write","2":"2","3":"3"},{"1":"wrong","2":"1","3":"4"},{"1":"year","2":"2","3":"2"},{"1":"yes","2":"1","3":"2"},{"1":"yesterday","2":"3","3":"6"},{"1":"yet","2":"1","3":"2"},{"1":"you","2":"2","3":"1"},{"1":"young","2":"2","3":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-45" class="section level3">
<h3><span class="header-section-number">7.4.2</span> 确定匹配的位置</h3>
<p>大家放心，正则表达式不会重叠匹配。比如用<code>"aba"</code>去匹配<code>"abababa"</code>，肉眼感觉是三次，但正则表达式告诉我们是两次，因为不会重叠匹配</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" title="1"><span class="kw">str_count</span>(<span class="st">&quot;abababa&quot;</span>, <span class="st">&quot;aba&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" title="1"><span class="kw">str_view_all</span>(<span class="st">&quot;abababa&quot;</span>, <span class="st">&quot;aba&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-d0868ee1a41dfb35dcee" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d0868ee1a41dfb35dcee">{"x":{"html":"<ul>\n  <li><span class='match'>aba<\/span>b<span class='match'>aba<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-46" class="section level3">
<h3><span class="header-section-number">7.4.3</span> 提取匹配的内容</h3>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" title="1">colours &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb219-2" title="2">  <span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;yellow&quot;</span>,</a>
<a class="sourceLine" id="cb219-3" title="3">  <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;purple&quot;</span></a>
<a class="sourceLine" id="cb219-4" title="4">)</a>
<a class="sourceLine" id="cb219-5" title="5">colour_match &lt;-<span class="st"> </span><span class="kw">str_c</span>(colours, <span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>)</a>
<a class="sourceLine" id="cb219-6" title="6">colour_match</a></code></pre></div>
<pre><code>## [1] &quot;red|orange|yellow|green|blue|purple&quot;</code></pre>
<p>colour_match 这里是一个字符串，放在pattern参数位置上也是正则表达式了,</p>
<p>这里注意以下两者的区别</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" title="1"><span class="kw">str_view</span>(<span class="st">&quot;abcd&quot;</span>, <span class="st">&quot;ab|cd&quot;</span>)</a>
<a class="sourceLine" id="cb221-2" title="2"><span class="kw">str_view</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a[bc]d&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" title="1">more &lt;-<span class="st"> &quot;It is hard to erase blue or red ink.&quot;</span></a>
<a class="sourceLine" id="cb222-2" title="2"><span class="kw">str_extract</span>(more, <span class="dt">pattern =</span> colour_match)</a></code></pre></div>
<pre><code>## [1] &quot;blue&quot;</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" title="1"><span class="kw">str_extract_all</span>(more, <span class="dt">pattern =</span> colour_match)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;blue&quot; &quot;red&quot;</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" title="1">more &lt;-<span class="st"> </span>sentences[<span class="kw">str_count</span>(sentences, colour_match) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb226-2" title="2">more</a></code></pre></div>
<pre><code>## [1] &quot;It is hard to erase blue or red ink.&quot;          
## [2] &quot;The green light in the brown box flickered.&quot;   
## [3] &quot;The sky in the west is tinged with orange red.&quot;</code></pre>
<p>取出sentences中，含有有两种和两种颜色以上的句子。不过，不喜欢这种写法，看着费劲，还是用tidyverse的方法</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" title="1"><span class="kw">tibble</span>(<span class="dt">sentence =</span> sentences) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb228-2" title="2"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_count</span>(sentences, colour_match) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sentence"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"It is hard to erase blue or red ink."},{"1":"The green light in the brown box flickered."},{"1":"The sky in the west is tinged with orange red."}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>str_extract()</code>提取匹配, 谁先匹配就提取谁</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> more) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb229-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">color =</span> <span class="kw">str_extract</span>(x, colour_match))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["color"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"It is hard to erase blue or red ink.","2":"blue"},{"1":"The green light in the brown box flickered.","2":"green"},{"1":"The sky in the west is tinged with orange red.","2":"orange"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>str_extract_all()</code>提取全部匹配项</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> more) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb230-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">color =</span> <span class="kw">str_extract_all</span>(x, colour_match))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["color"],"name":[2],"type":["list"],"align":["right"]}],"data":[{"1":"It is hard to erase blue or red ink.","2":"<chr [2]>"},{"1":"The green light in the brown box flickered.","2":"<chr [2]>"},{"1":"The sky in the west is tinged with orange red.","2":"<chr [2]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> more) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb231-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">color =</span> <span class="kw">str_extract_all</span>(x, colour_match)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb231-3" title="3"><span class="st">  </span><span class="kw">unnest_wider</span>(color)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["...1"],"name":[2],"type":["chr"],"align":["left"]},{"label":["...2"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"It is hard to erase blue or red ink.","2":"blue","3":"red"},{"1":"The green light in the brown box flickered.","2":"green","3":"red"},{"1":"The sky in the west is tinged with orange red.","2":"orange","3":"red"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-47" class="section level3">
<h3><span class="header-section-number">7.4.4</span> 替换匹配内容</h3>
<p>只替换匹配的第一项</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;pear&quot;</span>, <span class="st">&quot;banana&quot;</span>)</a>
<a class="sourceLine" id="cb232-2" title="2"><span class="kw">str_replace</span>(x, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;-&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;-pple&quot;  &quot;p-ar&quot;   &quot;b-nana&quot;</code></pre>
<p>替换全部匹配项</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" title="1"><span class="kw">str_replace_all</span>(x, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;-&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;-ppl-&quot;  &quot;p--r&quot;   &quot;b-n-n-&quot;</code></pre>
</div>
<div id="section-48" class="section level3">
<h3><span class="header-section-number">7.4.5</span> 拆分字符串</h3>
<p>这个和<code>str_c()</code>是相反的操作</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" title="1">lines &lt;-<span class="st"> &quot;I love my country&quot;</span></a>
<a class="sourceLine" id="cb236-2" title="2">lines</a></code></pre></div>
<pre><code>## [1] &quot;I love my country&quot;</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" title="1"><span class="kw">str_split</span>(lines, <span class="st">&quot; &quot;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;I&quot;       &quot;love&quot;    &quot;my&quot;      &quot;country&quot;</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" title="1">fields &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Name: Hadley&quot;</span>, <span class="st">&quot;Country: NZ&quot;</span>, <span class="st">&quot;Age: 35&quot;</span>)</a>
<a class="sourceLine" id="cb240-2" title="2">fields <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_split</span>(<span class="st">&quot;: &quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">simplify =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>##      [,1]      [,2]    
## [1,] &quot;Name&quot;    &quot;Hadley&quot;
## [2,] &quot;Country&quot; &quot;NZ&quot;    
## [3,] &quot;Age&quot;     &quot;35&quot;</code></pre>
</div>
</div>
<div id="section-49" class="section level2">
<h2><span class="header-section-number">7.5</span> 进阶部分</h2>
<p>带有条件的匹配</p>
<div id="look-ahead" class="section level3">
<h3><span class="header-section-number">7.5.1</span> look ahead</h3>
<p>想匹配Windows，同时希望Windows右侧是<code>"95", "98", "NT", "2000"</code>中的一个</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" title="1">win &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Windows2000&quot;</span>, <span class="st">&quot;Windows&quot;</span>, <span class="st">&quot;Windows3.1&quot;</span>)</a>
<a class="sourceLine" id="cb242-2" title="2"><span class="kw">str_view</span>(win, <span class="st">&quot;Windows(?=95|98|NT|2000)&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-8fd61bff0c3a15ffaf27" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fd61bff0c3a15ffaf27">{"x":{"html":"<ul>\n  <li><span class='match'>Windows<\/span>2000<\/li>\n  <li>Windows<\/li>\n  <li>Windows3.1<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" title="1">win &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Windows2000&quot;</span>, <span class="st">&quot;Windows&quot;</span>, <span class="st">&quot;Windows3.1&quot;</span>)</a>
<a class="sourceLine" id="cb243-2" title="2"><span class="kw">str_view</span>(win, <span class="st">&quot;Windows(?!95|98|NT|2000)&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-84f761de7d6ed02a05e1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-84f761de7d6ed02a05e1">{"x":{"html":"<ul>\n  <li>Windows2000<\/li>\n  <li><span class='match'>Windows<\/span><\/li>\n  <li><span class='match'>Windows<\/span>3.1<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Windows后面的 <code>()</code> 是匹配条件，事实上，有四种情形：</p>
<ul>
<li><code>(?=pattern)</code> 要求此位置的后面必须匹配表达式pattern</li>
<li><code>(?!pattern)</code> 要求此位置的后面不能匹配表达式pattern</li>
<li><code>(?&lt;=pattern)</code> 要求此位置的前面必须匹配表达式pattern</li>
<li><code>(?&lt;!pattern)</code> 要求此位置的前面不能匹配表达式pattern</li>
</ul>
<div class="danger">
<p>
注意：对于正则表达式引擎来说，它是从文本头部向尾部（从左到右）开始解析的，因此对于文本尾部方向，称为“前”，因为这个时候，正则引擎还没走到那块；而对文本头部方向，则称为“后”，因为正则引擎已经走过了那一块地方。
</p>
</div>
</div>
<div id="look-behind" class="section level3">
<h3><span class="header-section-number">7.5.2</span> look behind</h3>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" title="1">win &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2000Windows&quot;</span>, <span class="st">&quot;Windows&quot;</span>, <span class="st">&quot;3.1Windows&quot;</span>)</a>
<a class="sourceLine" id="cb244-2" title="2"><span class="kw">str_view</span>(win, <span class="st">&quot;(?&lt;=95|98|NT|2000)Windows&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-e8b537cfebc436acbc40" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8b537cfebc436acbc40">{"x":{"html":"<ul>\n  <li>2000<span class='match'>Windows<\/span><\/li>\n  <li>Windows<\/li>\n  <li>3.1Windows<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" title="1">win &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2000Windows&quot;</span>, <span class="st">&quot;Windows&quot;</span>, <span class="st">&quot;3.1Windows&quot;</span>)</a>
<a class="sourceLine" id="cb245-2" title="2"><span class="kw">str_view</span>(win, <span class="st">&quot;(?&lt;!95|98|NT|2000)Windows&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-d2973229fbe447bd0684" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d2973229fbe447bd0684">{"x":{"html":"<ul>\n  <li>2000Windows<\/li>\n  <li><span class='match'>Windows<\/span><\/li>\n  <li>3.1<span class='match'>Windows<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="section-50" class="section level2">
<h2><span class="header-section-number">7.6</span> 案例分析</h2>
<div id="section-51" class="section level3">
<h3><span class="header-section-number">7.6.1</span> 案例1</h3>
<p>我们希望能提取第二列中的数值，构成新的一列</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" title="1">dt &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb246-2" title="2">  <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,</a>
<a class="sourceLine" id="cb246-3" title="3">  <span class="dt">y =</span> <span class="kw">c</span>(<span class="st">&quot;wk 3&quot;</span>, <span class="st">&quot;week-1&quot;</span>, <span class="st">&quot;7&quot;</span>, <span class="st">&quot;w#9&quot;</span>)</a>
<a class="sourceLine" id="cb246-4" title="4">)</a>
<a class="sourceLine" id="cb246-5" title="5">dt</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["int"],"align":["right"]},{"label":["y"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"wk 3"},{"1":"2","2":"week-1"},{"1":"3","2":"7"},{"1":"4","2":"w#9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" title="1">dt <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb247-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb247-3" title="3">    <span class="dt">z =</span> <span class="kw">str_extract</span>(y, <span class="st">&quot;[0-9]&quot;</span>)</a>
<a class="sourceLine" id="cb247-4" title="4">  ) </a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["int"],"align":["right"]},{"label":["y"],"name":[2],"type":["chr"],"align":["left"]},{"label":["z"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"wk 3","3":"3"},{"1":"2","2":"week-1","3":"1"},{"1":"3","2":"7","3":"7"},{"1":"4","2":"w#9","3":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-52" class="section level3">
<h3><span class="header-section-number">7.6.2</span> 案例2</h3>
<p>提取第二列中的大写字母</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb248-2" title="2">  <span class="dt">x =</span> <span class="kw">seq_along</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>),</a>
<a class="sourceLine" id="cb248-3" title="3">  <span class="dt">y =</span> <span class="kw">c</span>(<span class="st">&quot;2016123456&quot;</span>, <span class="st">&quot;20150513&quot;</span>, <span class="st">&quot;AB2016123456&quot;</span>, <span class="st">&quot;J2017000987&quot;</span>, <span class="st">&quot;B2017000987C&quot;</span>, <span class="st">&quot;aksdf&quot;</span>, <span class="st">&quot;2014&quot;</span>)</a>
<a class="sourceLine" id="cb248-4" title="4">)</a>
<a class="sourceLine" id="cb248-5" title="5">df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["int"],"align":["right"]},{"label":["y"],"name":[2],"type":["fctr"],"align":["left"]}],"data":[{"1":"1","2":"2016123456"},{"1":"2","2":"20150513"},{"1":"3","2":"AB2016123456"},{"1":"4","2":"J2017000987"},{"1":"5","2":"B2017000987C"},{"1":"6","2":"aksdf"},{"1":"7","2":"2014"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" title="1">df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb249-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb249-3" title="3">    <span class="dt">item =</span> <span class="kw">str_extract_all</span>(y, <span class="st">&quot;[A-Z]&quot;</span>)</a>
<a class="sourceLine" id="cb249-4" title="4">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb249-5" title="5"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(item)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["int"],"align":["right"]},{"label":["y"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["item"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"3","2":"AB2016123456","3":"A"},{"1":"3","2":"AB2016123456","3":"B"},{"1":"4","2":"J2017000987","3":"J"},{"1":"5","2":"B2017000987C","3":"B"},{"1":"5","2":"B2017000987C","3":"C"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-53" class="section level3">
<h3><span class="header-section-number">7.6.3</span> 案例3</h3>
<p>要求：中英文分开</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" title="1">tb &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;I我&quot;</span>, <span class="st">&quot;love爱&quot;</span>, <span class="st">&quot;you你&quot;))</span></a>
<a class="sourceLine" id="cb250-2" title="2"><span class="st">tb</span></a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"I我"},{"1":"love爱"},{"1":"you你"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" title="1">tb <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb251-2" title="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">extract</span>(</a>
<a class="sourceLine" id="cb251-3" title="3">  x, <span class="kw">c</span>(<span class="st">&quot;en&quot;</span>, <span class="st">&quot;cn&quot;</span>), <span class="st">&quot;([:alpha:]+)([^:alpha:]+)&quot;</span>,</a>
<a class="sourceLine" id="cb251-4" title="4">  <span class="dt">remove =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb251-5" title="5">)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["en"],"name":[2],"type":["chr"],"align":["left"]},{"label":["cn"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"I我","2":"I","3":"我"},{"1":"love爱","2":"love","3":"爱"},{"1":"you你","2":"you","3":"你"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-54" class="section level3">
<h3><span class="header-section-number">7.6.4</span> 案例4</h3>
<p>要求：提取起始数字</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" title="1">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;1-12周&quot;</span>, <span class="st">&quot;1-10周&quot;</span>, <span class="st">&quot;5-12周&quot;</span>))</a>
<a class="sourceLine" id="cb252-2" title="2">df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"1-12周"},{"1":"1-10周"},{"1":"5-12周"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">extract</span>(</a>
<a class="sourceLine" id="cb253-2" title="2">  x,</a>
<a class="sourceLine" id="cb253-3" title="3">  <span class="kw">c</span>(<span class="st">&quot;start&quot;</span>, <span class="st">&quot;end&quot;</span>, <span class="st">&quot;cn&quot;</span>), <span class="st">&quot;([:digit:]+)-([:digit:]+)([^:alpha:]+)&quot;</span>,</a>
<a class="sourceLine" id="cb253-4" title="4">  <span class="dt">remove =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb253-5" title="5">)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["start"],"name":[2],"type":["chr"],"align":["left"]},{"label":["end"],"name":[3],"type":["chr"],"align":["left"]},{"label":["cn"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"1-12周","2":"1","3":"12","4":"周"},{"1":"1-10周","2":"1","3":"10","4":"周"},{"1":"5-12周","2":"5","3":"12","4":"周"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-55" class="section level3">
<h3><span class="header-section-number">7.6.5</span> 案例5</h3>
<p>要求：提取大写字母后的数字</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" title="1">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb254-2" title="2">  <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;12W34&quot;</span>, <span class="st">&quot;AB2C46&quot;</span>, <span class="st">&quot;B217C&quot;</span>, <span class="st">&quot;akTs6df&quot;</span>, <span class="st">&quot;21WD4&quot;</span>)</a>
<a class="sourceLine" id="cb254-3" title="3">)</a></code></pre></div>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb255-2" title="2"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">item =</span>  <span class="kw">str_extract_all</span>(x, <span class="st">&quot;(?&lt;=[A-Z])[0-9]&quot;</span>)  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb255-3" title="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(item)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["item"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"12W34","2":"3"},{"1":"AB2C46","2":"2"},{"1":"AB2C46","2":"4"},{"1":"B217C","2":"2"},{"1":"21WD4","2":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>思考题，</p>
<ul>
<li>如何提取大写字母后的连续数字，比如B217C后面的217</li>
<li>如何提取提取数字前的大写字母？</li>
<li>为什么第一个正则表达式返回结果为""</li>
</ul>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" title="1">x &lt;-<span class="st"> &quot;Roman numerals: MDCCCLXXXVIII&quot;</span></a>
<a class="sourceLine" id="cb256-2" title="2"><span class="kw">str_match_all</span>(x, <span class="st">&quot;C?&quot;</span>) <span class="co"># &quot;?&quot;的意思是匹配0次或者1次</span></a></code></pre></div>
<pre><code>## [[1]]
##       [,1]
##  [1,] &quot;&quot;  
##  [2,] &quot;&quot;  
##  [3,] &quot;&quot;  
##  [4,] &quot;&quot;  
##  [5,] &quot;&quot;  
##  [6,] &quot;&quot;  
##  [7,] &quot;&quot;  
##  [8,] &quot;&quot;  
##  [9,] &quot;&quot;  
## [10,] &quot;&quot;  
## [11,] &quot;&quot;  
## [12,] &quot;&quot;  
## [13,] &quot;&quot;  
## [14,] &quot;&quot;  
## [15,] &quot;&quot;  
## [16,] &quot;&quot;  
## [17,] &quot;&quot;  
## [18,] &quot;&quot;  
## [19,] &quot;C&quot; 
## [20,] &quot;C&quot; 
## [21,] &quot;C&quot; 
## [22,] &quot;&quot;  
## [23,] &quot;&quot;  
## [24,] &quot;&quot;  
## [25,] &quot;&quot;  
## [26,] &quot;&quot;  
## [27,] &quot;&quot;  
## [28,] &quot;&quot;  
## [29,] &quot;&quot;  
## [30,] &quot;&quot;</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" title="1"><span class="kw">str_match_all</span>(x, <span class="st">&quot;CC?&quot;</span>)</a></code></pre></div>
<pre><code>## [[1]]
##      [,1]
## [1,] &quot;CC&quot;
## [2,] &quot;C&quot;</code></pre>
</div>
<div id="section-56" class="section level3">
<h3><span class="header-section-number">7.6.6</span> 案例6</h3>
<p>提取数字并求和</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" title="1">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb260-2" title="2">  <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;1234&quot;</span>, <span class="st">&quot;B246&quot;</span>, <span class="st">&quot;217C&quot;</span>, <span class="st">&quot;2357f&quot;</span>, <span class="st">&quot;21WD4&quot;</span>)</a>
<a class="sourceLine" id="cb260-3" title="3">)</a>
<a class="sourceLine" id="cb260-4" title="4">df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"1234"},{"1":"B246"},{"1":"217C"},{"1":"2357f"},{"1":"21WD4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb261-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">num =</span> <span class="kw">str_match_all</span>(x, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb261-3" title="3"><span class="st">  </span><span class="kw">unnest</span>(num) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb261-4" title="4"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(num), as.numeric) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb261-5" title="5"><span class="st">  </span><span class="kw">group_by</span>(x) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb261-6" title="6"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">sum =</span> <span class="kw">sum</span>(num))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1234","2":"10"},{"1":"217C","2":"10"},{"1":"21WD4","2":"7"},{"1":"2357f","2":"17"},{"1":"B246","2":"12"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-57" class="section level2">
<h2><span class="header-section-number">7.7</span> 一些有趣的正则表达式的宏包</h2>
<ul>
<li><a href="https://github.com/gadenbuie/regexplain" class="uri">https://github.com/gadenbuie/regexplain</a></li>
<li><a href="https://github.com/daranzolin/inferregex" class="uri">https://github.com/daranzolin/inferregex</a></li>
<li><a href="https://github.com/VerbalExpressions/RVerbalExpressions" class="uri">https://github.com/VerbalExpressions/RVerbalExpressions</a></li>
</ul>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" title="1"><span class="kw">library</span>(inferregex) <span class="co"># remotes::install_github(&quot;daranzolin/inferregex&quot;)</span></a>
<a class="sourceLine" id="cb262-2" title="2">s &lt;-<span class="st"> &quot;abcd-9999-ab9&quot;</span></a>
<a class="sourceLine" id="cb262-3" title="3"><span class="kw">infer_regex</span>(s)<span class="op">$</span>regex</a></code></pre></div>
<pre><code>## [1] &quot;^[a-z]{4}-\\d{4}-[a-z]{2}\\d$&quot;</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dplyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="purrr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-chinese/edit/master/stringr.Rmd",
"text": "编辑"
},
"history": {
"link": null,
"text": null
},
"download": ["R4DS.pdf", "R4DS.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
